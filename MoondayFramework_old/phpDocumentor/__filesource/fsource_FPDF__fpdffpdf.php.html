<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<!-- template designed by Marco Von Ballmoos -->
			<title>File Source for fpdf.php</title>
			<link rel="stylesheet" href="../media/stylesheet.css" />
			<meta http-equiv='Content-Type' content='text/html; charset=iso-8859-1'/>
		</head>
		<body>
						<h1>Source for file fpdf.php</h1>
<p>Documentation is available at <a href="../FPDF/_fpdf_fpdf_php.html">fpdf.php</a></p>
<div class="src-code">
<pre><ol><li><a name="a1"></a><span class="src-php">&lt;?php</span></li>
<li><a name="a2"></a>&nbsp;</li>
<li><a name="a3"></a><span class="src-doc">/**</span></li>
<li><a name="a4"></a><span class="src-doc">* </span><span class="src-doc-coretag">@package</span><span class="src-doc"> FPDF</span></li>
<li><a name="a5"></a><span class="src-doc">* </span><span class="src-doc-coretag">@author</span><span class="src-doc"> Joshua Abbott, WiseGene Project (NKommunikation)</span></li>
<li><a name="a6"></a><span class="src-doc">* </span><span class="src-doc-coretag">@copyright</span><span class="src-doc"> (C) 2006 NKommunikation. All Rights Reserved.</span></li>
<li><a name="a7"></a><span class="src-doc">* </span><span class="src-doc-tag">@desc</span><span class="src-doc"> Create a PDF file w/o PDFLib</span></li>
<li><a name="a8"></a><span class="src-doc">* </span><span class="src-doc-coretag">@uses</span></li>
<li><a name="a9"></a><span class="src-doc">* </span><span class="src-doc-coretag">@example</span></li>
<li><a name="a10"></a><span class="src-doc">* </span><span class="src-doc-tag">@files</span></li>
<li><a name="a11"></a><span class="src-doc">*/</span></li>
<li><a name="a12"></a>&nbsp;</li>
<li><a name="a13"></a><a href="http://www.php.net/define">define</a><span class="src-sym">(</span><span class="src-str">'FPDF_VERSION'</span><span class="src-sym">,</span><span class="src-str">'1.5'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a14"></a>&nbsp;</li>
<li><a name="a15"></a><span class="src-key">class </span><a href="../FPDF/FPDF.html">FPDF</a></li>
<li><a name="a16"></a><span class="src-sym">{</span></li>
<li><a name="a17"></a><span class="src-comm">//Private properties</span></li>
<li><a name="a17"></a>&nbsp;</li>
<li><a name="a18"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$page">$page</a><span class="src-sym">;               </span><span class="src-comm">//current page number</span></li>
<li><a name="a18"></a>&nbsp;</li>
<li><a name="a19"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$n">$n</a><span class="src-sym">;                  </span><span class="src-comm">//current object number</span></li>
<li><a name="a19"></a>&nbsp;</li>
<li><a name="a20"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$offsets">$offsets</a><span class="src-sym">;            </span><span class="src-comm">//array of object offsets</span></li>
<li><a name="a20"></a>&nbsp;</li>
<li><a name="a21"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$buffer">$buffer</a><span class="src-sym">;             </span><span class="src-comm">//buffer holding in-memory PDF</span></li>
<li><a name="a21"></a>&nbsp;</li>
<li><a name="a22"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$pages">$pages</a><span class="src-sym">;              </span><span class="src-comm">//array containing pages</span></li>
<li><a name="a22"></a>&nbsp;</li>
<li><a name="a23"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$state">$state</a><span class="src-sym">;              </span><span class="src-comm">//current document state</span></li>
<li><a name="a23"></a>&nbsp;</li>
<li><a name="a24"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$compress">$compress</a><span class="src-sym">;           </span><span class="src-comm">//compression flag</span></li>
<li><a name="a24"></a>&nbsp;</li>
<li><a name="a25"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$DefOrientation">$DefOrientation</a><span class="src-sym">;     </span><span class="src-comm">//default orientation</span></li>
<li><a name="a25"></a>&nbsp;</li>
<li><a name="a26"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$CurOrientation">$CurOrientation</a><span class="src-sym">;     </span><span class="src-comm">//current orientation</span></li>
<li><a name="a26"></a>&nbsp;</li>
<li><a name="a27"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$OrientationChanges">$OrientationChanges</a><span class="src-sym">; </span><span class="src-comm">//array indicating orientation changes</span></li>
<li><a name="a27"></a>&nbsp;</li>
<li><a name="a28"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$fwPt">$fwPt</a><span class="src-sym">,</span><a href="../FPDF/FPDF.html#var$fhPt">$fhPt</a><span class="src-sym">;         </span><span class="src-comm">//dimensions of page format in points</span></li>
<li><a name="a28"></a>&nbsp;</li>
<li><a name="a29"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$fw">$fw</a><span class="src-sym">,</span><a href="../FPDF/FPDF.html#var$fh">$fh</a><span class="src-sym">;             </span><span class="src-comm">//dimensions of page format in user unit</span></li>
<li><a name="a29"></a>&nbsp;</li>
<li><a name="a30"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$wPt">$wPt</a><span class="src-sym">,</span><a href="../FPDF/FPDF.html#var$hPt">$hPt</a><span class="src-sym">;           </span><span class="src-comm">//current dimensions of page in points</span></li>
<li><a name="a30"></a>&nbsp;</li>
<li><a name="a31"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$k">$k</a><span class="src-sym">;                  </span><span class="src-comm">//scale factor (number of points in user unit)</span></li>
<li><a name="a31"></a>&nbsp;</li>
<li><a name="a32"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$w">$w</a><span class="src-sym">,</span><a href="../FPDF/FPDF.html#var$h">$h</a><span class="src-sym">;               </span><span class="src-comm">//current dimensions of page in user unit</span></li>
<li><a name="a32"></a>&nbsp;</li>
<li><a name="a33"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$lMargin">$lMargin</a><span class="src-sym">;            </span><span class="src-comm">//left margin</span></li>
<li><a name="a33"></a>&nbsp;</li>
<li><a name="a34"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$tMargin">$tMargin</a><span class="src-sym">;            </span><span class="src-comm">//top margin</span></li>
<li><a name="a34"></a>&nbsp;</li>
<li><a name="a35"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$rMargin">$rMargin</a><span class="src-sym">;            </span><span class="src-comm">//right margin</span></li>
<li><a name="a35"></a>&nbsp;</li>
<li><a name="a36"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$bMargin">$bMargin</a><span class="src-sym">;            </span><span class="src-comm">//page break margin</span></li>
<li><a name="a36"></a>&nbsp;</li>
<li><a name="a37"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$cMargin">$cMargin</a><span class="src-sym">;            </span><span class="src-comm">//cell margin</span></li>
<li><a name="a37"></a>&nbsp;</li>
<li><a name="a38"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$x">$x</a><span class="src-sym">,</span><a href="../FPDF/FPDF.html#var$y">$y</a><span class="src-sym">;               </span><span class="src-comm">//current position in user unit for cell positionning</span></li>
<li><a name="a38"></a>&nbsp;</li>
<li><a name="a39"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$lasth">$lasth</a><span class="src-sym">;              </span><span class="src-comm">//height of last cell printed</span></li>
<li><a name="a39"></a>&nbsp;</li>
<li><a name="a40"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$LineWidth">$LineWidth</a><span class="src-sym">;          </span><span class="src-comm">//line width in user unit</span></li>
<li><a name="a40"></a>&nbsp;</li>
<li><a name="a41"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$CoreFonts">$CoreFonts</a><span class="src-sym">;          </span><span class="src-comm">//array of core font names</span></li>
<li><a name="a41"></a>&nbsp;</li>
<li><a name="a42"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$fonts">$fonts</a><span class="src-sym">;              </span><span class="src-comm">//array of used fonts</span></li>
<li><a name="a42"></a>&nbsp;</li>
<li><a name="a43"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$FontFiles">$FontFiles</a><span class="src-sym">;          </span><span class="src-comm">//array of font files</span></li>
<li><a name="a43"></a>&nbsp;</li>
<li><a name="a44"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$diffs">$diffs</a><span class="src-sym">;              </span><span class="src-comm">//array of encoding differences</span></li>
<li><a name="a44"></a>&nbsp;</li>
<li><a name="a45"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$images">$images</a><span class="src-sym">;             </span><span class="src-comm">//array of used images</span></li>
<li><a name="a45"></a>&nbsp;</li>
<li><a name="a46"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$PageLinks">$PageLinks</a><span class="src-sym">;          </span><span class="src-comm">//array of links in pages</span></li>
<li><a name="a46"></a>&nbsp;</li>
<li><a name="a47"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$links">$links</a><span class="src-sym">;              </span><span class="src-comm">//array of internal links</span></li>
<li><a name="a47"></a>&nbsp;</li>
<li><a name="a48"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$FontFamily">$FontFamily</a><span class="src-sym">;         </span><span class="src-comm">//current font family</span></li>
<li><a name="a48"></a>&nbsp;</li>
<li><a name="a49"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$FontStyle">$FontStyle</a><span class="src-sym">;          </span><span class="src-comm">//current font style</span></li>
<li><a name="a49"></a>&nbsp;</li>
<li><a name="a50"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$underline">$underline</a><span class="src-sym">;          </span><span class="src-comm">//underlining flag</span></li>
<li><a name="a50"></a>&nbsp;</li>
<li><a name="a51"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$CurrentFont">$CurrentFont</a><span class="src-sym">;        </span><span class="src-comm">//current font info</span></li>
<li><a name="a51"></a>&nbsp;</li>
<li><a name="a52"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$FontSizePt">$FontSizePt</a><span class="src-sym">;         </span><span class="src-comm">//current font size in points</span></li>
<li><a name="a52"></a>&nbsp;</li>
<li><a name="a53"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$FontSize">$FontSize</a><span class="src-sym">;           </span><span class="src-comm">//current font size in user unit</span></li>
<li><a name="a53"></a>&nbsp;</li>
<li><a name="a54"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$DrawColor">$DrawColor</a><span class="src-sym">;          </span><span class="src-comm">//commands for drawing color</span></li>
<li><a name="a54"></a>&nbsp;</li>
<li><a name="a55"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$FillColor">$FillColor</a><span class="src-sym">;          </span><span class="src-comm">//commands for filling color</span></li>
<li><a name="a55"></a>&nbsp;</li>
<li><a name="a56"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$TextColor">$TextColor</a><span class="src-sym">;          </span><span class="src-comm">//commands for text color</span></li>
<li><a name="a56"></a>&nbsp;</li>
<li><a name="a57"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$ColorFlag">$ColorFlag</a><span class="src-sym">;          </span><span class="src-comm">//indicates whether fill and text colors are different</span></li>
<li><a name="a57"></a>&nbsp;</li>
<li><a name="a58"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$ws">$ws</a><span class="src-sym">;                 </span><span class="src-comm">//word spacing</span></li>
<li><a name="a58"></a>&nbsp;</li>
<li><a name="a59"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$AutoPageBreak">$AutoPageBreak</a><span class="src-sym">;      </span><span class="src-comm">//automatic page breaking</span></li>
<li><a name="a59"></a>&nbsp;</li>
<li><a name="a60"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$PageBreakTrigger">$PageBreakTrigger</a><span class="src-sym">;   </span><span class="src-comm">//threshold used to trigger page breaks</span></li>
<li><a name="a60"></a>&nbsp;</li>
<li><a name="a61"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$InFooter">$InFooter</a><span class="src-sym">;           </span><span class="src-comm">//flag set when processing footer</span></li>
<li><a name="a61"></a>&nbsp;</li>
<li><a name="a62"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$ZoomMode">$ZoomMode</a><span class="src-sym">;           </span><span class="src-comm">//zoom display mode</span></li>
<li><a name="a62"></a>&nbsp;</li>
<li><a name="a63"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$LayoutMode">$LayoutMode</a><span class="src-sym">;         </span><span class="src-comm">//layout display mode</span></li>
<li><a name="a63"></a>&nbsp;</li>
<li><a name="a64"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$title">$title</a><span class="src-sym">;              </span><span class="src-comm">//title</span></li>
<li><a name="a64"></a>&nbsp;</li>
<li><a name="a65"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$subject">$subject</a><span class="src-sym">;            </span><span class="src-comm">//subject</span></li>
<li><a name="a65"></a>&nbsp;</li>
<li><a name="a66"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$author">$author</a><span class="src-sym">;             </span><span class="src-comm">//author</span></li>
<li><a name="a66"></a>&nbsp;</li>
<li><a name="a67"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$keywords">$keywords</a><span class="src-sym">;           </span><span class="src-comm">//keywords</span></li>
<li><a name="a67"></a>&nbsp;</li>
<li><a name="a68"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$creator">$creator</a><span class="src-sym">;            </span><span class="src-comm">//creator</span></li>
<li><a name="a68"></a>&nbsp;</li>
<li><a name="a69"></a><span class="src-key">var </span><a href="../FPDF/FPDF.html#var$AliasNbPages">$AliasNbPages</a><span class="src-sym">;       </span><span class="src-comm">//alias for total number of pages</span></li>
<li><a name="a70"></a>&nbsp;</li>
<li><a name="a69"></a>&nbsp;</li>
<li><a name="a70"></a>&nbsp;</li>
<li><a name="a71"></a><span class="src-doc">/**************************************************************************</span></li>
<li><a name="a72"></a><span class="src-doc">*                                                                           *</span></li>
<li><a name="a73"></a><span class="src-doc">*                              Public methods                               *</span></li>
<li><a name="a74"></a><span class="src-doc">*                                                                           *</span></li>
<li><a name="a75"></a><span class="src-doc">****************************************************************************/</span></li>
<li><a name="a75"></a>&nbsp;</li>
<li><a name="a76"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodFPDF">FPDF</a><span class="src-sym">(</span><span class="src-var">$orientation</span>=<span class="src-str">'P'</span><span class="src-sym">,</span><span class="src-var">$unit</span>=<span class="src-str">'mm'</span><span class="src-sym">,</span><span class="src-var">$format</span>=<span class="src-str">'A4'</span><span class="src-sym">)</span></li>
<li><a name="a77"></a><span class="src-sym">{</span></li>
<li><a name="a78"></a>    <span class="src-comm">//Initialization of properties</span></li>
<li><a name="a79"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$page">page</a>=<span class="src-num">0</span><span class="src-sym">;</span></li>
<li><a name="a80"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$n">n</a>=<span class="src-num">2</span><span class="src-sym">;</span></li>
<li><a name="a81"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$buffer">buffer</a>=<span class="src-str">''</span><span class="src-sym">;</span></li>
<li><a name="a82"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$pages">pages</a>=<span class="src-key">array</span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a83"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$OrientationChanges">OrientationChanges</a>=<span class="src-key">array</span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a84"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$state">state</a>=<span class="src-num">0</span><span class="src-sym">;</span></li>
<li><a name="a85"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$fonts">fonts</a>=<span class="src-key">array</span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a86"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontFiles">FontFiles</a>=<span class="src-key">array</span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a87"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$diffs">diffs</a>=<span class="src-key">array</span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a88"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$images">images</a>=<span class="src-key">array</span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a89"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$InFooter">InFooter</a>=<span class="src-id">false</span><span class="src-sym">;</span></li>
<li><a name="a90"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontFamily">FontFamily</a>=<span class="src-str">''</span><span class="src-sym">;</span></li>
<li><a name="a91"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontStyle">FontStyle</a>=<span class="src-str">''</span><span class="src-sym">;</span></li>
<li><a name="a92"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontSizePt">FontSizePt</a>=<span class="src-num">12</span><span class="src-sym">;</span></li>
<li><a name="a93"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$underline">underline</a>=<span class="src-id">false</span><span class="src-sym">;</span></li>
<li><a name="a94"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$DrawColor">DrawColor</a>=<span class="src-str">'0 G'</span><span class="src-sym">;</span></li>
<li><a name="a95"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FillColor">FillColor</a>=<span class="src-str">'0 g'</span><span class="src-sym">;</span></li>
<li><a name="a96"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$TextColor">TextColor</a>=<span class="src-str">'0 g'</span><span class="src-sym">;</span></li>
<li><a name="a97"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$ColorFlag">ColorFlag</a>=<span class="src-id">false</span><span class="src-sym">;</span></li>
<li><a name="a98"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$ws">ws</a>=<span class="src-num">0</span><span class="src-sym">;</span></li>
<li><a name="a99"></a>    <span class="src-comm">//Font names</span></li>
<li><a name="a100"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$CoreFonts">CoreFonts</a><span class="src-sym">[</span><span class="src-str">'courier'</span><span class="src-sym">]</span>=<span class="src-str">'Courier'</span><span class="src-sym">;</span></li>
<li><a name="a101"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$CoreFonts">CoreFonts</a><span class="src-sym">[</span><span class="src-str">'courierB'</span><span class="src-sym">]</span>=<span class="src-str">'Courier-Bold'</span><span class="src-sym">;</span></li>
<li><a name="a102"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$CoreFonts">CoreFonts</a><span class="src-sym">[</span><span class="src-str">'courierI'</span><span class="src-sym">]</span>=<span class="src-str">'Courier-Oblique'</span><span class="src-sym">;</span></li>
<li><a name="a103"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$CoreFonts">CoreFonts</a><span class="src-sym">[</span><span class="src-str">'courierBI'</span><span class="src-sym">]</span>=<span class="src-str">'Courier-BoldOblique'</span><span class="src-sym">;</span></li>
<li><a name="a104"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$CoreFonts">CoreFonts</a><span class="src-sym">[</span><span class="src-str">'helvetica'</span><span class="src-sym">]</span>=<span class="src-str">'Helvetica'</span><span class="src-sym">;</span></li>
<li><a name="a105"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$CoreFonts">CoreFonts</a><span class="src-sym">[</span><span class="src-str">'helveticaB'</span><span class="src-sym">]</span>=<span class="src-str">'Helvetica-Bold'</span><span class="src-sym">;</span></li>
<li><a name="a106"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$CoreFonts">CoreFonts</a><span class="src-sym">[</span><span class="src-str">'helveticaI'</span><span class="src-sym">]</span>=<span class="src-str">'Helvetica-Oblique'</span><span class="src-sym">;</span></li>
<li><a name="a107"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$CoreFonts">CoreFonts</a><span class="src-sym">[</span><span class="src-str">'helveticaBI'</span><span class="src-sym">]</span>=<span class="src-str">'Helvetica-BoldOblique'</span><span class="src-sym">;</span></li>
<li><a name="a108"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$CoreFonts">CoreFonts</a><span class="src-sym">[</span><span class="src-str">'times'</span><span class="src-sym">]</span>=<span class="src-str">'Times-Roman'</span><span class="src-sym">;</span></li>
<li><a name="a109"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$CoreFonts">CoreFonts</a><span class="src-sym">[</span><span class="src-str">'timesB'</span><span class="src-sym">]</span>=<span class="src-str">'Times-Bold'</span><span class="src-sym">;</span></li>
<li><a name="a110"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$CoreFonts">CoreFonts</a><span class="src-sym">[</span><span class="src-str">'timesI'</span><span class="src-sym">]</span>=<span class="src-str">'Times-Italic'</span><span class="src-sym">;</span></li>
<li><a name="a111"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$CoreFonts">CoreFonts</a><span class="src-sym">[</span><span class="src-str">'timesBI'</span><span class="src-sym">]</span>=<span class="src-str">'Times-BoldItalic'</span><span class="src-sym">;</span></li>
<li><a name="a112"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$CoreFonts">CoreFonts</a><span class="src-sym">[</span><span class="src-str">'symbol'</span><span class="src-sym">]</span>=<span class="src-str">'Symbol'</span><span class="src-sym">;</span></li>
<li><a name="a113"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$CoreFonts">CoreFonts</a><span class="src-sym">[</span><span class="src-str">'zapfdingbats'</span><span class="src-sym">]</span>=<span class="src-str">'ZapfDingbats'</span><span class="src-sym">;</span></li>
<li><a name="a114"></a>    <span class="src-comm">//Scale factor</span></li>
<li><a name="a115"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$unit</span>==<span class="src-str">'pt'</span><span class="src-sym">)</span></li>
<li><a name="a116"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$k">k</a>=<span class="src-num">1</span><span class="src-sym">;</span></li>
<li><a name="a117"></a>    <span class="src-key">elseif</span><span class="src-sym">(</span><span class="src-var">$unit</span>==<span class="src-str">'mm'</span><span class="src-sym">)</span></li>
<li><a name="a118"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$k">k</a>=<span class="src-num">72</span>/<span class="src-num">25.4</span><span class="src-sym">;</span></li>
<li><a name="a119"></a>    <span class="src-key">elseif</span><span class="src-sym">(</span><span class="src-var">$unit</span>==<span class="src-str">'cm'</span><span class="src-sym">)</span></li>
<li><a name="a120"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$k">k</a>=<span class="src-num">72</span>/<span class="src-num">2.54</span><span class="src-sym">;</span></li>
<li><a name="a121"></a>    <span class="src-key">elseif</span><span class="src-sym">(</span><span class="src-var">$unit</span>==<span class="src-str">'in'</span><span class="src-sym">)</span></li>
<li><a name="a122"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$k">k</a>=<span class="src-num">72</span><span class="src-sym">;</span></li>
<li><a name="a123"></a>    <span class="src-key">else</span></li>
<li><a name="a124"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodError">Error</a><span class="src-sym">(</span><span class="src-str">'Incorrect unit: '</span>.<span class="src-var">$unit</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a125"></a>    <span class="src-comm">//Page format</span></li>
<li><a name="a126"></a>    <span class="src-key">if</span><span class="src-sym">(</span><a href="http://www.php.net/is_string">is_string</a><span class="src-sym">(</span><span class="src-var">$format</span><span class="src-sym">))</span></li>
<li><a name="a127"></a>    <span class="src-sym">{</span></li>
<li><a name="a128"></a>        <span class="src-var">$format</span>=<a href="http://www.php.net/strtolower">strtolower</a><span class="src-sym">(</span><span class="src-var">$format</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a129"></a>        <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$format</span>==<span class="src-str">'a3'</span><span class="src-sym">)</span></li>
<li><a name="a130"></a>            <span class="src-var">$format</span>=<span class="src-key">array</span><span class="src-sym">(</span><span class="src-num">841.89</span><span class="src-sym">,</span><span class="src-num">1190.55</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a131"></a>        <span class="src-key">elseif</span><span class="src-sym">(</span><span class="src-var">$format</span>==<span class="src-str">'a4'</span><span class="src-sym">)</span></li>
<li><a name="a132"></a>            <span class="src-var">$format</span>=<span class="src-key">array</span><span class="src-sym">(</span><span class="src-num">595.28</span><span class="src-sym">,</span><span class="src-num">841.89</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a133"></a>        <span class="src-key">elseif</span><span class="src-sym">(</span><span class="src-var">$format</span>==<span class="src-str">'a5'</span><span class="src-sym">)</span></li>
<li><a name="a134"></a>            <span class="src-var">$format</span>=<span class="src-key">array</span><span class="src-sym">(</span><span class="src-num">420.94</span><span class="src-sym">,</span><span class="src-num">595.28</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a135"></a>        <span class="src-key">elseif</span><span class="src-sym">(</span><span class="src-var">$format</span>==<span class="src-str">'letter'</span><span class="src-sym">)</span></li>
<li><a name="a136"></a>            <span class="src-var">$format</span>=<span class="src-key">array</span><span class="src-sym">(</span><span class="src-num">612</span><span class="src-sym">,</span><span class="src-num">792</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a137"></a>        <span class="src-key">elseif</span><span class="src-sym">(</span><span class="src-var">$format</span>==<span class="src-str">'legal'</span><span class="src-sym">)</span></li>
<li><a name="a138"></a>            <span class="src-var">$format</span>=<span class="src-key">array</span><span class="src-sym">(</span><span class="src-num">612</span><span class="src-sym">,</span><span class="src-num">1008</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a139"></a>        <span class="src-key">else</span></li>
<li><a name="a140"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodError">Error</a><span class="src-sym">(</span><span class="src-str">'Unknown page format: '</span>.<span class="src-var">$format</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a141"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$fwPt">fwPt</a>=<span class="src-var">$format</span><span class="src-sym">[</span><span class="src-num">0</span><span class="src-sym">]</span><span class="src-sym">;</span></li>
<li><a name="a142"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$fhPt">fhPt</a>=<span class="src-var">$format</span><span class="src-sym">[</span><span class="src-num">1</span><span class="src-sym">]</span><span class="src-sym">;</span></li>
<li><a name="a143"></a>    <span class="src-sym">}</span></li>
<li><a name="a144"></a>    <span class="src-key">else</span></li>
<li><a name="a145"></a>    <span class="src-sym">{</span></li>
<li><a name="a146"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$fwPt">fwPt</a>=<a href="http://www.php.net/round">round</a><span class="src-sym">(</span><span class="src-var">$format</span><span class="src-sym">[</span><span class="src-num">0</span><span class="src-sym">]</span>*<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$k">k</a><span class="src-sym">,</span><span class="src-num">2</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a147"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$fhPt">fhPt</a>=<a href="http://www.php.net/round">round</a><span class="src-sym">(</span><span class="src-var">$format</span><span class="src-sym">[</span><span class="src-num">1</span><span class="src-sym">]</span>*<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$k">k</a><span class="src-sym">,</span><span class="src-num">2</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a148"></a>    <span class="src-sym">}</span></li>
<li><a name="a149"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$fw">fw</a>=<a href="http://www.php.net/round">round</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$fwPt">fwPt</a>/<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$k">k</a><span class="src-sym">,</span><span class="src-num">2</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a150"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$fh">fh</a>=<a href="http://www.php.net/round">round</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$fhPt">fhPt</a>/<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$k">k</a><span class="src-sym">,</span><span class="src-num">2</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a151"></a>    <span class="src-comm">//Page orientation</span></li>
<li><a name="a152"></a>    <span class="src-var">$orientation</span>=<a href="http://www.php.net/strtolower">strtolower</a><span class="src-sym">(</span><span class="src-var">$orientation</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a153"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$orientation</span>==<span class="src-str">'p' </span><span class="src-key">or </span><span class="src-var">$orientation</span>==<span class="src-str">'portrait'</span><span class="src-sym">)</span></li>
<li><a name="a154"></a>    <span class="src-sym">{</span></li>
<li><a name="a155"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$DefOrientation">DefOrientation</a>=<span class="src-str">'P'</span><span class="src-sym">;</span></li>
<li><a name="a156"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$wPt">wPt</a>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$fwPt">fwPt</a><span class="src-sym">;</span></li>
<li><a name="a157"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$hPt">hPt</a>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$fhPt">fhPt</a><span class="src-sym">;</span></li>
<li><a name="a158"></a>    <span class="src-sym">}</span></li>
<li><a name="a159"></a>    <span class="src-key">elseif</span><span class="src-sym">(</span><span class="src-var">$orientation</span>==<span class="src-str">'l' </span><span class="src-key">or </span><span class="src-var">$orientation</span>==<span class="src-str">'landscape'</span><span class="src-sym">)</span></li>
<li><a name="a160"></a>    <span class="src-sym">{</span></li>
<li><a name="a161"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$DefOrientation">DefOrientation</a>=<span class="src-str">'L'</span><span class="src-sym">;</span></li>
<li><a name="a162"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$wPt">wPt</a>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$fhPt">fhPt</a><span class="src-sym">;</span></li>
<li><a name="a163"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$hPt">hPt</a>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$fwPt">fwPt</a><span class="src-sym">;</span></li>
<li><a name="a164"></a>    <span class="src-sym">}</span></li>
<li><a name="a165"></a>    <span class="src-key">else</span></li>
<li><a name="a166"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodError">Error</a><span class="src-sym">(</span><span class="src-str">'Incorrect orientation: '</span>.<span class="src-var">$orientation</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a167"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$CurOrientation">CurOrientation</a>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$DefOrientation">DefOrientation</a><span class="src-sym">;</span></li>
<li><a name="a168"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$w">w</a>=<a href="http://www.php.net/round">round</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$wPt">wPt</a>/<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$k">k</a><span class="src-sym">,</span><span class="src-num">2</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a169"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$h">h</a>=<a href="http://www.php.net/round">round</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$hPt">hPt</a>/<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$k">k</a><span class="src-sym">,</span><span class="src-num">2</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a170"></a>    <span class="src-comm">//Page margins (1 cm)</span></li>
<li><a name="a171"></a>    <span class="src-var">$margin</span>=<a href="http://www.php.net/round">round</a><span class="src-sym">(</span><span class="src-num">28.35</span>/<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$k">k</a><span class="src-sym">,</span><span class="src-num">2</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a172"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodSetMargins">SetMargins</a><span class="src-sym">(</span><span class="src-var">$margin</span><span class="src-sym">,</span><span class="src-var">$margin</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a173"></a>    <span class="src-comm">//Interior cell margin (1 mm)</span></li>
<li><a name="a174"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$cMargin">cMargin</a>=<span class="src-var">$margin</span>/<span class="src-num">10</span><span class="src-sym">;</span></li>
<li><a name="a175"></a>    <span class="src-comm">//Line width (0.2 mm)</span></li>
<li><a name="a176"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$LineWidth">LineWidth</a>=<a href="http://www.php.net/round">round</a><span class="src-sym">(</span><span class="src-num">.567</span>/<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$k">k</a><span class="src-sym">,</span><span class="src-num">3</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a177"></a>    <span class="src-comm">//Automatic page break</span></li>
<li><a name="a178"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodSetAutoPageBreak">SetAutoPageBreak</a><span class="src-sym">(</span><span class="src-id">true</span><span class="src-sym">,</span><span class="src-num">2</span>*<span class="src-var">$margin</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a179"></a>    <span class="src-comm">//Full width display mode</span></li>
<li><a name="a180"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodSetDisplayMode">SetDisplayMode</a><span class="src-sym">(</span><span class="src-str">'fullwidth'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a181"></a>    <span class="src-comm">//Compression</span></li>
<li><a name="a182"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodSetCompression">SetCompression</a><span class="src-sym">(</span><span class="src-id">true</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a183"></a>    <span class="src-comm">//Links</span></li>
<li><a name="a184"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$links">links</a>=<span class="src-key">array</span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a185"></a><span class="src-sym">}</span></li>
<li><a name="a186"></a>&nbsp;</li>
<li><a name="a187"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodSetMargins">SetMargins</a><span class="src-sym">(</span><span class="src-var">$left</span><span class="src-sym">,</span><span class="src-var">$top</span><span class="src-sym">,</span><span class="src-var">$right</span>=-<span class="src-num">1</span><span class="src-sym">)</span></li>
<li><a name="a188"></a><span class="src-sym">{</span></li>
<li><a name="a189"></a>    <span class="src-comm">//Set left, top and right margins</span></li>
<li><a name="a190"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$lMargin">lMargin</a>=<span class="src-var">$left</span><span class="src-sym">;</span></li>
<li><a name="a191"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$tMargin">tMargin</a>=<span class="src-var">$top</span><span class="src-sym">;</span></li>
<li><a name="a192"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$right</span>==-<span class="src-num">1</span><span class="src-sym">)</span></li>
<li><a name="a193"></a>        <span class="src-var">$right</span>=<span class="src-var">$left</span><span class="src-sym">;</span></li>
<li><a name="a194"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$rMargin">rMargin</a>=<span class="src-var">$right</span><span class="src-sym">;</span></li>
<li><a name="a195"></a><span class="src-sym">}</span></li>
<li><a name="a196"></a>&nbsp;</li>
<li><a name="a197"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodSetLeftMargin">SetLeftMargin</a><span class="src-sym">(</span><span class="src-var">$margin</span><span class="src-sym">)</span></li>
<li><a name="a198"></a><span class="src-sym">{</span></li>
<li><a name="a199"></a>    <span class="src-comm">//Set left margin</span></li>
<li><a name="a200"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$lMargin">lMargin</a>=<span class="src-var">$margin</span><span class="src-sym">;</span></li>
<li><a name="a201"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$page">page</a>&gt;<span class="src-num">0 </span><span class="src-key">and </span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$x">x</a>&lt;<span class="src-var">$margin</span><span class="src-sym">)</span></li>
<li><a name="a202"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$x">x</a>=<span class="src-var">$margin</span><span class="src-sym">;</span></li>
<li><a name="a203"></a><span class="src-sym">}</span></li>
<li><a name="a204"></a>&nbsp;</li>
<li><a name="a205"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodSetTopMargin">SetTopMargin</a><span class="src-sym">(</span><span class="src-var">$margin</span><span class="src-sym">)</span></li>
<li><a name="a206"></a><span class="src-sym">{</span></li>
<li><a name="a207"></a>    <span class="src-comm">//Set top margin</span></li>
<li><a name="a208"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$tMargin">tMargin</a>=<span class="src-var">$margin</span><span class="src-sym">;</span></li>
<li><a name="a209"></a><span class="src-sym">}</span></li>
<li><a name="a210"></a>&nbsp;</li>
<li><a name="a211"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodSetRightMargin">SetRightMargin</a><span class="src-sym">(</span><span class="src-var">$margin</span><span class="src-sym">)</span></li>
<li><a name="a212"></a><span class="src-sym">{</span></li>
<li><a name="a213"></a>    <span class="src-comm">//Set right margin</span></li>
<li><a name="a214"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$rMargin">rMargin</a>=<span class="src-var">$margin</span><span class="src-sym">;</span></li>
<li><a name="a215"></a><span class="src-sym">}</span></li>
<li><a name="a216"></a>&nbsp;</li>
<li><a name="a217"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodSetAutoPageBreak">SetAutoPageBreak</a><span class="src-sym">(</span><span class="src-var">$auto</span><span class="src-sym">,</span><span class="src-var">$margin</span>=<span class="src-num">0</span><span class="src-sym">)</span></li>
<li><a name="a218"></a><span class="src-sym">{</span></li>
<li><a name="a219"></a>    <span class="src-comm">//Set auto page break mode and triggering margin</span></li>
<li><a name="a220"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$AutoPageBreak">AutoPageBreak</a>=<span class="src-var">$auto</span><span class="src-sym">;</span></li>
<li><a name="a221"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$bMargin">bMargin</a>=<span class="src-var">$margin</span><span class="src-sym">;</span></li>
<li><a name="a222"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$PageBreakTrigger">PageBreakTrigger</a>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$h">h</a>-<span class="src-var">$margin</span><span class="src-sym">;</span></li>
<li><a name="a223"></a><span class="src-sym">}</span></li>
<li><a name="a224"></a>&nbsp;</li>
<li><a name="a225"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodSetDisplayMode">SetDisplayMode</a><span class="src-sym">(</span><span class="src-var">$zoom</span><span class="src-sym">,</span><span class="src-var">$layout</span>=<span class="src-str">'continuous'</span><span class="src-sym">)</span></li>
<li><a name="a226"></a><span class="src-sym">{</span></li>
<li><a name="a227"></a>    <span class="src-comm">//Set display mode in viewer</span></li>
<li><a name="a228"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$zoom</span>==<span class="src-str">'fullpage' </span><span class="src-key">or </span><span class="src-var">$zoom</span>==<span class="src-str">'fullwidth' </span><span class="src-key">or </span><span class="src-var">$zoom</span>==<span class="src-str">'real' </span><span class="src-key">or </span><span class="src-var">$zoom</span>==<span class="src-str">'default' </span><span class="src-key">or </span><span class="src-sym">!</span><a href="http://www.php.net/is_string">is_string</a><span class="src-sym">(</span><span class="src-var">$zoom</span><span class="src-sym">))</span></li>
<li><a name="a229"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$ZoomMode">ZoomMode</a>=<span class="src-var">$zoom</span><span class="src-sym">;</span></li>
<li><a name="a230"></a>    <span class="src-key">elseif</span><span class="src-sym">(</span><span class="src-var">$zoom</span>==<span class="src-str">'zoom'</span><span class="src-sym">)</span></li>
<li><a name="a231"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$ZoomMode">ZoomMode</a>=<span class="src-var">$layout</span><span class="src-sym">;</span></li>
<li><a name="a232"></a>    <span class="src-key">else</span></li>
<li><a name="a233"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodError">Error</a><span class="src-sym">(</span><span class="src-str">'Incorrect zoom display mode: '</span>.<span class="src-var">$zoom</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a234"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$layout</span>==<span class="src-str">'single' </span><span class="src-key">or </span><span class="src-var">$layout</span>==<span class="src-str">'continuous' </span><span class="src-key">or </span><span class="src-var">$layout</span>==<span class="src-str">'two' </span><span class="src-key">or </span><span class="src-var">$layout</span>==<span class="src-str">'default'</span><span class="src-sym">)</span></li>
<li><a name="a235"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$LayoutMode">LayoutMode</a>=<span class="src-var">$layout</span><span class="src-sym">;</span></li>
<li><a name="a236"></a>    <span class="src-key">elseif</span><span class="src-sym">(</span><span class="src-var">$zoom</span>!=<span class="src-str">'zoom'</span><span class="src-sym">)</span></li>
<li><a name="a237"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodError">Error</a><span class="src-sym">(</span><span class="src-str">'Incorrect layout display mode: '</span>.<span class="src-var">$layout</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a238"></a><span class="src-sym">}</span></li>
<li><a name="a239"></a>&nbsp;</li>
<li><a name="a240"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodSetCompression">SetCompression</a><span class="src-sym">(</span><span class="src-var">$compress</span><span class="src-sym">)</span></li>
<li><a name="a241"></a><span class="src-sym">{</span></li>
<li><a name="a242"></a>    <span class="src-comm">//Set page compression</span></li>
<li><a name="a243"></a>    <span class="src-key">if</span><span class="src-sym">(</span><a href="http://www.php.net/function_exists">function_exists</a><span class="src-sym">(</span><span class="src-str">'gzcompress'</span><span class="src-sym">))</span></li>
<li><a name="a244"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$compress">compress</a>=<span class="src-var">$compress</span><span class="src-sym">;</span></li>
<li><a name="a245"></a>    <span class="src-key">else</span></li>
<li><a name="a246"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$compress">compress</a>=<span class="src-id">false</span><span class="src-sym">;</span></li>
<li><a name="a247"></a><span class="src-sym">}</span></li>
<li><a name="a248"></a>&nbsp;</li>
<li><a name="a249"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodSetTitle">SetTitle</a><span class="src-sym">(</span><span class="src-var">$title</span><span class="src-sym">)</span></li>
<li><a name="a250"></a><span class="src-sym">{</span></li>
<li><a name="a251"></a>    <span class="src-comm">//Title of document</span></li>
<li><a name="a252"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$title">title</a>=<span class="src-var">$title</span><span class="src-sym">;</span></li>
<li><a name="a253"></a><span class="src-sym">}</span></li>
<li><a name="a254"></a>&nbsp;</li>
<li><a name="a255"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodSetSubject">SetSubject</a><span class="src-sym">(</span><span class="src-var">$subject</span><span class="src-sym">)</span></li>
<li><a name="a256"></a><span class="src-sym">{</span></li>
<li><a name="a257"></a>    <span class="src-comm">//Subject of document</span></li>
<li><a name="a258"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$subject">subject</a>=<span class="src-var">$subject</span><span class="src-sym">;</span></li>
<li><a name="a259"></a><span class="src-sym">}</span></li>
<li><a name="a260"></a>&nbsp;</li>
<li><a name="a261"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodSetAuthor">SetAuthor</a><span class="src-sym">(</span><span class="src-var">$author</span><span class="src-sym">)</span></li>
<li><a name="a262"></a><span class="src-sym">{</span></li>
<li><a name="a263"></a>    <span class="src-comm">//Author of document</span></li>
<li><a name="a264"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$author">author</a>=<span class="src-var">$author</span><span class="src-sym">;</span></li>
<li><a name="a265"></a><span class="src-sym">}</span></li>
<li><a name="a266"></a>&nbsp;</li>
<li><a name="a267"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodSetKeywords">SetKeywords</a><span class="src-sym">(</span><span class="src-var">$keywords</span><span class="src-sym">)</span></li>
<li><a name="a268"></a><span class="src-sym">{</span></li>
<li><a name="a269"></a>    <span class="src-comm">//Keywords of document</span></li>
<li><a name="a270"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$keywords">keywords</a>=<span class="src-var">$keywords</span><span class="src-sym">;</span></li>
<li><a name="a271"></a><span class="src-sym">}</span></li>
<li><a name="a272"></a>&nbsp;</li>
<li><a name="a273"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodSetCreator">SetCreator</a><span class="src-sym">(</span><span class="src-var">$creator</span><span class="src-sym">)</span></li>
<li><a name="a274"></a><span class="src-sym">{</span></li>
<li><a name="a275"></a>    <span class="src-comm">//Creator of document</span></li>
<li><a name="a276"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$creator">creator</a>=<span class="src-var">$creator</span><span class="src-sym">;</span></li>
<li><a name="a277"></a><span class="src-sym">}</span></li>
<li><a name="a278"></a>&nbsp;</li>
<li><a name="a279"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodAliasNbPages">AliasNbPages</a><span class="src-sym">(</span><span class="src-var">$alias</span>=<span class="src-str">'{nb}'</span><span class="src-sym">)</span></li>
<li><a name="a280"></a><span class="src-sym">{</span></li>
<li><a name="a281"></a>    <span class="src-comm">//Define an alias for total number of pages</span></li>
<li><a name="a282"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$AliasNbPages">AliasNbPages</a>=<span class="src-var">$alias</span><span class="src-sym">;</span></li>
<li><a name="a283"></a><span class="src-sym">}</span></li>
<li><a name="a284"></a>&nbsp;</li>
<li><a name="a285"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodError">Error</a><span class="src-sym">(</span><span class="src-var">$msg</span><span class="src-sym">)</span></li>
<li><a name="a286"></a><span class="src-sym">{</span></li>
<li><a name="a287"></a>    <span class="src-comm">//Fatal error</span></li>
<li><a name="a288"></a>    <span class="src-key">die</span><span class="src-sym">(</span><span class="src-str">'&lt;B&gt;FPDF error: &lt;/B&gt;'</span>.<span class="src-var">$msg</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a289"></a><span class="src-sym">}</span></li>
<li><a name="a290"></a>&nbsp;</li>
<li><a name="a291"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodOpen">Open</a><span class="src-sym">(</span><span class="src-sym">)</span></li>
<li><a name="a292"></a><span class="src-sym">{</span></li>
<li><a name="a293"></a>    <span class="src-comm">//Begin document</span></li>
<li><a name="a294"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_begindoc</span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a295"></a><span class="src-sym">}</span></li>
<li><a name="a296"></a>&nbsp;</li>
<li><a name="a297"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodClose">Close</a><span class="src-sym">(</span><span class="src-sym">)</span></li>
<li><a name="a298"></a><span class="src-sym">{</span></li>
<li><a name="a299"></a>    <span class="src-comm">//Terminate document</span></li>
<li><a name="a300"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$page">page</a>==<span class="src-num">0</span><span class="src-sym">)</span></li>
<li><a name="a301"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodAddPage">AddPage</a><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a302"></a>    <span class="src-comm">//Page footer</span></li>
<li><a name="a303"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$InFooter">InFooter</a>=<span class="src-id">true</span><span class="src-sym">;</span></li>
<li><a name="a304"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodFooter">Footer</a><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a305"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$InFooter">InFooter</a>=<span class="src-id">false</span><span class="src-sym">;</span></li>
<li><a name="a306"></a>    <span class="src-comm">//Close page</span></li>
<li><a name="a307"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_endpage</span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a308"></a>    <span class="src-comm">//Close document</span></li>
<li><a name="a309"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_enddoc</span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a310"></a><span class="src-sym">}</span></li>
<li><a name="a311"></a>&nbsp;</li>
<li><a name="a312"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodAddPage">AddPage</a><span class="src-sym">(</span><span class="src-var">$orientation</span>=<span class="src-str">''</span><span class="src-sym">)</span></li>
<li><a name="a313"></a><span class="src-sym">{</span></li>
<li><a name="a314"></a>    <span class="src-comm">//Start a new page</span></li>
<li><a name="a315"></a>    <span class="src-var">$family</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontFamily">FontFamily</a><span class="src-sym">;</span></li>
<li><a name="a316"></a>    <span class="src-var">$style</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontStyle">FontStyle</a>.<span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$underline">underline</a> ? <span class="src-str">'U' </span>: <span class="src-str">''</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a317"></a>    <span class="src-var">$size</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontSizePt">FontSizePt</a><span class="src-sym">;</span></li>
<li><a name="a318"></a>    <span class="src-var">$lw</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$LineWidth">LineWidth</a><span class="src-sym">;</span></li>
<li><a name="a319"></a>    <span class="src-var">$dc</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$DrawColor">DrawColor</a><span class="src-sym">;</span></li>
<li><a name="a320"></a>    <span class="src-var">$fc</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FillColor">FillColor</a><span class="src-sym">;</span></li>
<li><a name="a321"></a>    <span class="src-var">$tc</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$TextColor">TextColor</a><span class="src-sym">;</span></li>
<li><a name="a322"></a>    <span class="src-var">$cf</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$ColorFlag">ColorFlag</a><span class="src-sym">;</span></li>
<li><a name="a323"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$page">page</a>&gt;<span class="src-num">0</span><span class="src-sym">)</span></li>
<li><a name="a324"></a>    <span class="src-sym">{</span></li>
<li><a name="a325"></a>        <span class="src-comm">//Page footer</span></li>
<li><a name="a326"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$InFooter">InFooter</a>=<span class="src-id">true</span><span class="src-sym">;</span></li>
<li><a name="a327"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodFooter">Footer</a><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a328"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$InFooter">InFooter</a>=<span class="src-id">false</span><span class="src-sym">;</span></li>
<li><a name="a329"></a>        <span class="src-comm">//Close page</span></li>
<li><a name="a330"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_endpage</span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a331"></a>    <span class="src-sym">}</span></li>
<li><a name="a332"></a>    <span class="src-comm">//Start new page</span></li>
<li><a name="a333"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_beginpage</span><span class="src-sym">(</span><span class="src-var">$orientation</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a334"></a>    <span class="src-comm">//Set line cap style to square</span></li>
<li><a name="a335"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'2 J'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a336"></a>    <span class="src-comm">//Set line width</span></li>
<li><a name="a337"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$LineWidth">LineWidth</a>=<span class="src-var">$lw</span><span class="src-sym">;</span></li>
<li><a name="a338"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-var">$lw</span>.<span class="src-str">' w'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a339"></a>    <span class="src-comm">//Set font</span></li>
<li><a name="a340"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$family</span><span class="src-sym">)</span></li>
<li><a name="a341"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodSetFont">SetFont</a><span class="src-sym">(</span><span class="src-var">$family</span><span class="src-sym">,</span><span class="src-var">$style</span><span class="src-sym">,</span><span class="src-var">$size</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a342"></a>    <span class="src-comm">//Set colors</span></li>
<li><a name="a343"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$DrawColor">DrawColor</a>=<span class="src-var">$dc</span><span class="src-sym">;</span></li>
<li><a name="a344"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$dc</span>!=<span class="src-str">'0 G'</span><span class="src-sym">)</span></li>
<li><a name="a345"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-var">$dc</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a346"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FillColor">FillColor</a>=<span class="src-var">$fc</span><span class="src-sym">;</span></li>
<li><a name="a347"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$fc</span>!=<span class="src-str">'0 g'</span><span class="src-sym">)</span></li>
<li><a name="a348"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-var">$fc</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a349"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$TextColor">TextColor</a>=<span class="src-var">$tc</span><span class="src-sym">;</span></li>
<li><a name="a350"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$ColorFlag">ColorFlag</a>=<span class="src-var">$cf</span><span class="src-sym">;</span></li>
<li><a name="a351"></a>    <span class="src-comm">//Page header</span></li>
<li><a name="a352"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodHeader">Header</a><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a353"></a>    <span class="src-comm">//Restore line width</span></li>
<li><a name="a354"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$LineWidth">LineWidth</a>!=<span class="src-var">$lw</span><span class="src-sym">)</span></li>
<li><a name="a355"></a>    <span class="src-sym">{</span></li>
<li><a name="a356"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$LineWidth">LineWidth</a>=<span class="src-var">$lw</span><span class="src-sym">;</span></li>
<li><a name="a357"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-var">$lw</span>.<span class="src-str">' w'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a358"></a>    <span class="src-sym">}</span></li>
<li><a name="a359"></a>    <span class="src-comm">//Restore font</span></li>
<li><a name="a360"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$family</span><span class="src-sym">)</span></li>
<li><a name="a361"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodSetFont">SetFont</a><span class="src-sym">(</span><span class="src-var">$family</span><span class="src-sym">,</span><span class="src-var">$style</span><span class="src-sym">,</span><span class="src-var">$size</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a362"></a>    <span class="src-comm">//Restore colors</span></li>
<li><a name="a363"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$DrawColor">DrawColor</a>!=<span class="src-var">$dc</span><span class="src-sym">)</span></li>
<li><a name="a364"></a>    <span class="src-sym">{</span></li>
<li><a name="a365"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$DrawColor">DrawColor</a>=<span class="src-var">$dc</span><span class="src-sym">;</span></li>
<li><a name="a366"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-var">$dc</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a367"></a>    <span class="src-sym">}</span></li>
<li><a name="a368"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FillColor">FillColor</a>!=<span class="src-var">$fc</span><span class="src-sym">)</span></li>
<li><a name="a369"></a>    <span class="src-sym">{</span></li>
<li><a name="a370"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FillColor">FillColor</a>=<span class="src-var">$fc</span><span class="src-sym">;</span></li>
<li><a name="a371"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-var">$fc</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a372"></a>    <span class="src-sym">}</span></li>
<li><a name="a373"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$TextColor">TextColor</a>=<span class="src-var">$tc</span><span class="src-sym">;</span></li>
<li><a name="a374"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$ColorFlag">ColorFlag</a>=<span class="src-var">$cf</span><span class="src-sym">;</span></li>
<li><a name="a375"></a><span class="src-sym">}</span></li>
<li><a name="a376"></a>&nbsp;</li>
<li><a name="a377"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodHeader">Header</a><span class="src-sym">(</span><span class="src-sym">)</span></li>
<li><a name="a378"></a><span class="src-sym">{</span></li>
<li><a name="a379"></a>    <span class="src-comm">//To be implemented in your own inherited class</span></li>
<li><a name="a380"></a><span class="src-sym">}</span></li>
<li><a name="a381"></a>&nbsp;</li>
<li><a name="a382"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodFooter">Footer</a><span class="src-sym">(</span><span class="src-sym">)</span></li>
<li><a name="a383"></a><span class="src-sym">{</span></li>
<li><a name="a384"></a>    <span class="src-comm">//To be implemented in your own inherited class</span></li>
<li><a name="a385"></a><span class="src-sym">}</span></li>
<li><a name="a386"></a>&nbsp;</li>
<li><a name="a387"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodPageNo">PageNo</a><span class="src-sym">(</span><span class="src-sym">)</span></li>
<li><a name="a388"></a><span class="src-sym">{</span></li>
<li><a name="a389"></a>    <span class="src-comm">//Get current page number</span></li>
<li><a name="a390"></a>    <span class="src-key">return </span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$page">page</a><span class="src-sym">;</span></li>
<li><a name="a391"></a><span class="src-sym">}</span></li>
<li><a name="a392"></a>&nbsp;</li>
<li><a name="a393"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodSetDrawColor">SetDrawColor</a><span class="src-sym">(</span><span class="src-var">$r</span><span class="src-sym">,</span><span class="src-var">$g</span>=-<span class="src-num">1</span><span class="src-sym">,</span><span class="src-var">$b</span>=-<span class="src-num">1</span><span class="src-sym">)</span></li>
<li><a name="a394"></a><span class="src-sym">{</span></li>
<li><a name="a395"></a>    <span class="src-comm">//Set color for all stroking operations</span></li>
<li><a name="a396"></a>    <span class="src-key">if</span><span class="src-sym">((</span><span class="src-var">$r</span>==<span class="src-num">0 </span><span class="src-key">and </span><span class="src-var">$g</span>==<span class="src-num">0 </span><span class="src-key">and </span><span class="src-var">$b</span>==<span class="src-num">0</span><span class="src-sym">) </span><span class="src-key">or </span><span class="src-var">$g</span>==-<span class="src-num">1</span><span class="src-sym">)</span></li>
<li><a name="a397"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$DrawColor">DrawColor</a>=<a href="http://www.php.net/substr">substr</a><span class="src-sym">(</span><span class="src-var">$r</span>/<span class="src-num">255</span><span class="src-sym">,</span><span class="src-num">0</span><span class="src-sym">,</span><span class="src-num">5</span><span class="src-sym">)</span>.<span class="src-str">' G'</span><span class="src-sym">;</span></li>
<li><a name="a398"></a>    <span class="src-key">else</span></li>
<li><a name="a399"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$DrawColor">DrawColor</a>=<a href="http://www.php.net/substr">substr</a><span class="src-sym">(</span><span class="src-var">$r</span>/<span class="src-num">255</span><span class="src-sym">,</span><span class="src-num">0</span><span class="src-sym">,</span><span class="src-num">5</span><span class="src-sym">)</span>.<span class="src-str">' '</span>.<a href="http://www.php.net/substr">substr</a><span class="src-sym">(</span><span class="src-var">$g</span>/<span class="src-num">255</span><span class="src-sym">,</span><span class="src-num">0</span><span class="src-sym">,</span><span class="src-num">5</span><span class="src-sym">)</span>.<span class="src-str">' '</span>.<a href="http://www.php.net/substr">substr</a><span class="src-sym">(</span><span class="src-var">$b</span>/<span class="src-num">255</span><span class="src-sym">,</span><span class="src-num">0</span><span class="src-sym">,</span><span class="src-num">5</span><span class="src-sym">)</span>.<span class="src-str">' RG'</span><span class="src-sym">;</span></li>
<li><a name="a400"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$page">page</a>&gt;<span class="src-num">0</span><span class="src-sym">)</span></li>
<li><a name="a401"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$DrawColor">DrawColor</a><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a402"></a><span class="src-sym">}</span></li>
<li><a name="a403"></a>&nbsp;</li>
<li><a name="a404"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodSetFillColor">SetFillColor</a><span class="src-sym">(</span><span class="src-var">$r</span><span class="src-sym">,</span><span class="src-var">$g</span>=-<span class="src-num">1</span><span class="src-sym">,</span><span class="src-var">$b</span>=-<span class="src-num">1</span><span class="src-sym">)</span></li>
<li><a name="a405"></a><span class="src-sym">{</span></li>
<li><a name="a406"></a>    <span class="src-comm">//Set color for all filling operations</span></li>
<li><a name="a407"></a>    <span class="src-key">if</span><span class="src-sym">((</span><span class="src-var">$r</span>==<span class="src-num">0 </span><span class="src-key">and </span><span class="src-var">$g</span>==<span class="src-num">0 </span><span class="src-key">and </span><span class="src-var">$b</span>==<span class="src-num">0</span><span class="src-sym">) </span><span class="src-key">or </span><span class="src-var">$g</span>==-<span class="src-num">1</span><span class="src-sym">)</span></li>
<li><a name="a408"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FillColor">FillColor</a>=<a href="http://www.php.net/substr">substr</a><span class="src-sym">(</span><span class="src-var">$r</span>/<span class="src-num">255</span><span class="src-sym">,</span><span class="src-num">0</span><span class="src-sym">,</span><span class="src-num">5</span><span class="src-sym">)</span>.<span class="src-str">' g'</span><span class="src-sym">;</span></li>
<li><a name="a409"></a>    <span class="src-key">else</span></li>
<li><a name="a410"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FillColor">FillColor</a>=<a href="http://www.php.net/substr">substr</a><span class="src-sym">(</span><span class="src-var">$r</span>/<span class="src-num">255</span><span class="src-sym">,</span><span class="src-num">0</span><span class="src-sym">,</span><span class="src-num">5</span><span class="src-sym">)</span>.<span class="src-str">' '</span>.<a href="http://www.php.net/substr">substr</a><span class="src-sym">(</span><span class="src-var">$g</span>/<span class="src-num">255</span><span class="src-sym">,</span><span class="src-num">0</span><span class="src-sym">,</span><span class="src-num">5</span><span class="src-sym">)</span>.<span class="src-str">' '</span>.<a href="http://www.php.net/substr">substr</a><span class="src-sym">(</span><span class="src-var">$b</span>/<span class="src-num">255</span><span class="src-sym">,</span><span class="src-num">0</span><span class="src-sym">,</span><span class="src-num">5</span><span class="src-sym">)</span>.<span class="src-str">' rg'</span><span class="src-sym">;</span></li>
<li><a name="a411"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$ColorFlag">ColorFlag</a>=<span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FillColor">FillColor</a>!=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$TextColor">TextColor</a><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a412"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$page">page</a>&gt;<span class="src-num">0</span><span class="src-sym">)</span></li>
<li><a name="a413"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FillColor">FillColor</a><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a414"></a><span class="src-sym">}</span></li>
<li><a name="a415"></a>&nbsp;</li>
<li><a name="a416"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodSetTextColor">SetTextColor</a><span class="src-sym">(</span><span class="src-var">$r</span><span class="src-sym">,</span><span class="src-var">$g</span>=-<span class="src-num">1</span><span class="src-sym">,</span><span class="src-var">$b</span>=-<span class="src-num">1</span><span class="src-sym">)</span></li>
<li><a name="a417"></a><span class="src-sym">{</span></li>
<li><a name="a418"></a>    <span class="src-comm">//Set color for text</span></li>
<li><a name="a419"></a>    <span class="src-key">if</span><span class="src-sym">((</span><span class="src-var">$r</span>==<span class="src-num">0 </span><span class="src-key">and </span><span class="src-var">$g</span>==<span class="src-num">0 </span><span class="src-key">and </span><span class="src-var">$b</span>==<span class="src-num">0</span><span class="src-sym">) </span><span class="src-key">or </span><span class="src-var">$g</span>==-<span class="src-num">1</span><span class="src-sym">)</span></li>
<li><a name="a420"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$TextColor">TextColor</a>=<a href="http://www.php.net/substr">substr</a><span class="src-sym">(</span><span class="src-var">$r</span>/<span class="src-num">255</span><span class="src-sym">,</span><span class="src-num">0</span><span class="src-sym">,</span><span class="src-num">5</span><span class="src-sym">)</span>.<span class="src-str">' g'</span><span class="src-sym">;</span></li>
<li><a name="a421"></a>    <span class="src-key">else</span></li>
<li><a name="a422"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$TextColor">TextColor</a>=<a href="http://www.php.net/substr">substr</a><span class="src-sym">(</span><span class="src-var">$r</span>/<span class="src-num">255</span><span class="src-sym">,</span><span class="src-num">0</span><span class="src-sym">,</span><span class="src-num">5</span><span class="src-sym">)</span>.<span class="src-str">' '</span>.<a href="http://www.php.net/substr">substr</a><span class="src-sym">(</span><span class="src-var">$g</span>/<span class="src-num">255</span><span class="src-sym">,</span><span class="src-num">0</span><span class="src-sym">,</span><span class="src-num">5</span><span class="src-sym">)</span>.<span class="src-str">' '</span>.<a href="http://www.php.net/substr">substr</a><span class="src-sym">(</span><span class="src-var">$b</span>/<span class="src-num">255</span><span class="src-sym">,</span><span class="src-num">0</span><span class="src-sym">,</span><span class="src-num">5</span><span class="src-sym">)</span>.<span class="src-str">' rg'</span><span class="src-sym">;</span></li>
<li><a name="a423"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$ColorFlag">ColorFlag</a>=<span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FillColor">FillColor</a>!=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$TextColor">TextColor</a><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a424"></a><span class="src-sym">}</span></li>
<li><a name="a425"></a>&nbsp;</li>
<li><a name="a426"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodGetStringWidth">GetStringWidth</a><span class="src-sym">(</span><span class="src-var">$s</span><span class="src-sym">)</span></li>
<li><a name="a427"></a><span class="src-sym">{</span></li>
<li><a name="a428"></a>    <span class="src-comm">//Get width of a string in the current font</span></li>
<li><a name="a429"></a>    <span class="src-var">$s</span>=(string)<span class="src-var">$s</span><span class="src-sym">;</span></li>
<li><a name="a430"></a>    <span class="src-var">$cw</span>=<span class="src-sym">&amp;</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$CurrentFont">CurrentFont</a><span class="src-sym">[</span><span class="src-str">'cw'</span><span class="src-sym">]</span><span class="src-sym">;</span></li>
<li><a name="a431"></a>    <span class="src-var">$w</span>=<span class="src-num">0</span><span class="src-sym">;</span></li>
<li><a name="a432"></a>    <span class="src-var">$l</span>=<a href="http://www.php.net/strlen">strlen</a><span class="src-sym">(</span><span class="src-var">$s</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a433"></a>    <span class="src-key">for</span><span class="src-sym">(</span><span class="src-var">$i</span>=<span class="src-num">0</span><span class="src-sym">;</span><span class="src-var">$i</span>&lt;<span class="src-var">$l</span><span class="src-sym">;</span><span class="src-var">$i</span>++<span class="src-sym">)</span></li>
<li><a name="a434"></a>        <span class="src-var">$w</span>+=<span class="src-var">$cw</span><span class="src-sym">[</span><span class="src-var">$s</span><span class="src-sym">{</span><span class="src-var">$i</span><span class="src-sym">}</span><span class="src-sym">]</span><span class="src-sym">;</span></li>
<li><a name="a435"></a>    <span class="src-key">return </span><span class="src-var">$w</span>*<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontSize">FontSize</a>/<span class="src-num">1000</span><span class="src-sym">;</span></li>
<li><a name="a436"></a><span class="src-sym">}</span></li>
<li><a name="a437"></a>&nbsp;</li>
<li><a name="a438"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodSetLineWidth">SetLineWidth</a><span class="src-sym">(</span><span class="src-var">$width</span><span class="src-sym">)</span></li>
<li><a name="a439"></a><span class="src-sym">{</span></li>
<li><a name="a440"></a>    <span class="src-comm">//Set line width</span></li>
<li><a name="a441"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$LineWidth">LineWidth</a>=<span class="src-var">$width</span><span class="src-sym">;</span></li>
<li><a name="a442"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$page">page</a>&gt;<span class="src-num">0</span><span class="src-sym">)</span></li>
<li><a name="a443"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-var">$width</span>.<span class="src-str">' w'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a444"></a><span class="src-sym">}</span></li>
<li><a name="a445"></a>&nbsp;</li>
<li><a name="a446"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodLine">Line</a><span class="src-sym">(</span><span class="src-var">$x1</span><span class="src-sym">,</span><span class="src-var">$y1</span><span class="src-sym">,</span><span class="src-var">$x2</span><span class="src-sym">,</span><span class="src-var">$y2</span><span class="src-sym">)</span></li>
<li><a name="a447"></a><span class="src-sym">{</span></li>
<li><a name="a448"></a>    <span class="src-comm">//Draw a line</span></li>
<li><a name="a449"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-var">$x1</span>.<span class="src-str">' -'</span>.<span class="src-var">$y1</span>.<span class="src-str">' m '</span>.<span class="src-var">$x2</span>.<span class="src-str">' -'</span>.<span class="src-var">$y2</span>.<span class="src-str">' l S'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a450"></a><span class="src-sym">}</span></li>
<li><a name="a451"></a>&nbsp;</li>
<li><a name="a452"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodRect">Rect</a><span class="src-sym">(</span><span class="src-var">$x</span><span class="src-sym">,</span><span class="src-var">$y</span><span class="src-sym">,</span><span class="src-var">$w</span><span class="src-sym">,</span><span class="src-var">$h</span><span class="src-sym">,</span><span class="src-var">$style</span>=<span class="src-str">''</span><span class="src-sym">)</span></li>
<li><a name="a453"></a><span class="src-sym">{</span></li>
<li><a name="a454"></a>    <span class="src-comm">//Draw a rectangle</span></li>
<li><a name="a455"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$style</span>==<span class="src-str">'F'</span><span class="src-sym">)</span></li>
<li><a name="a456"></a>        <span class="src-var">$op</span>=<span class="src-str">'f'</span><span class="src-sym">;</span></li>
<li><a name="a457"></a>    <span class="src-key">elseif</span><span class="src-sym">(</span><span class="src-var">$style</span>==<span class="src-str">'FD' </span><span class="src-key">or </span><span class="src-var">$style</span>==<span class="src-str">'DF'</span><span class="src-sym">)</span></li>
<li><a name="a458"></a>        <span class="src-var">$op</span>=<span class="src-str">'B'</span><span class="src-sym">;</span></li>
<li><a name="a459"></a>    <span class="src-key">else</span></li>
<li><a name="a460"></a>        <span class="src-var">$op</span>=<span class="src-str">'S'</span><span class="src-sym">;</span></li>
<li><a name="a461"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-var">$x</span>.<span class="src-str">' -'</span>.<span class="src-var">$y</span>.<span class="src-str">' '</span>.<span class="src-var">$w</span>.<span class="src-str">' -'</span>.<span class="src-var">$h</span>.<span class="src-str">' re '</span>.<span class="src-var">$op</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a462"></a><span class="src-sym">}</span></li>
<li><a name="a463"></a>&nbsp;</li>
<li><a name="a464"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodAddFont">AddFont</a><span class="src-sym">(</span><span class="src-var">$family</span><span class="src-sym">,</span><span class="src-var">$style</span>=<span class="src-str">''</span><span class="src-sym">,</span><span class="src-var">$file</span>=<span class="src-str">''</span><span class="src-sym">)</span></li>
<li><a name="a465"></a><span class="src-sym">{</span></li>
<li><a name="a466"></a>    <span class="src-comm">//Add a TrueType font</span></li>
<li><a name="a467"></a>    <span class="src-var">$family</span>=<a href="http://www.php.net/strtolower">strtolower</a><span class="src-sym">(</span><span class="src-var">$family</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a468"></a>    <span class="src-var">$style</span>=<a href="http://www.php.net/strtoupper">strtoupper</a><span class="src-sym">(</span><span class="src-var">$style</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a469"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$style</span>==<span class="src-str">'IB'</span><span class="src-sym">)</span></li>
<li><a name="a470"></a>        <span class="src-var">$style</span>=<span class="src-str">'BI'</span><span class="src-sym">;</span></li>
<li><a name="a471"></a>    <span class="src-key">if</span><span class="src-sym">(</span>isset<span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$fonts">fonts</a><span class="src-sym">[</span><span class="src-var">$family</span>.<span class="src-var">$style</span><span class="src-sym">]</span><span class="src-sym">))</span></li>
<li><a name="a472"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodError">Error</a><span class="src-sym">(</span><span class="src-str">'Font already added: '</span>.<span class="src-var">$family</span>.<span class="src-str">' '</span>.<span class="src-var">$style</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a473"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$file</span>==<span class="src-str">''</span><span class="src-sym">)</span></li>
<li><a name="a474"></a>        <span class="src-var">$file</span>=<a href="http://www.php.net/str_replace">str_replace</a><span class="src-sym">(</span><span class="src-str">' '</span><span class="src-sym">,</span><span class="src-str">''</span><span class="src-sym">,</span><span class="src-var">$family</span><span class="src-sym">)</span>.<a href="http://www.php.net/strtolower">strtolower</a><span class="src-sym">(</span><span class="src-var">$style</span><span class="src-sym">)</span>.<span class="src-str">'.php'</span><span class="src-sym">;</span></li>
<li><a name="a475"></a>    <span class="src-key">if</span><span class="src-sym">(</span><a href="http://www.php.net/defined">defined</a><span class="src-sym">(</span><span class="src-str">'FPDF_FONTPATH'</span><span class="src-sym">))</span></li>
<li><a name="a476"></a>        <span class="src-var">$file</span>=<span class="src-id"><a href="../default/_fpdf_example_ex_php.html#defineFPDF_FONTPATH">FPDF_FONTPATH</a></span>.<span class="src-var">$file</span><span class="src-sym">;</span></li>
<li><a name="a477"></a>    <span class="src-inc">include</span><span class="src-sym">(</span><span class="src-var">$file</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a478"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-sym">!</span>isset<span class="src-sym">(</span><span class="src-var">$name</span><span class="src-sym">))</span></li>
<li><a name="a479"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodError">Error</a><span class="src-sym">(</span><span class="src-str">'Could not include font definition file'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a480"></a>    <span class="src-var">$i</span>=<a href="http://www.php.net/count">count</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$fonts">fonts</a><span class="src-sym">)</span>+<span class="src-num">1</span><span class="src-sym">;</span></li>
<li><a name="a481"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$fonts">fonts</a><span class="src-sym">[</span><span class="src-var">$family</span>.<span class="src-var">$style</span><span class="src-sym">]</span>=<span class="src-key">array</span><span class="src-sym">(</span><span class="src-str">'i'</span>=&gt;<span class="src-var">$i</span><span class="src-sym">,</span><span class="src-str">'type'</span>=&gt;<span class="src-var">$type</span><span class="src-sym">,</span><span class="src-str">'name'</span>=&gt;<span class="src-var">$name</span><span class="src-sym">,</span><span class="src-str">'desc'</span>=&gt;<span class="src-var">$desc</span><span class="src-sym">,</span><span class="src-str">'up'</span>=&gt;<span class="src-var">$up</span><span class="src-sym">,</span><span class="src-str">'ut'</span>=&gt;<span class="src-var">$ut</span><span class="src-sym">,</span><span class="src-str">'cw'</span>=&gt;<span class="src-var">$cw</span><span class="src-sym">,</span><span class="src-str">'enc'</span>=&gt;<span class="src-var">$enc</span><span class="src-sym">,</span><span class="src-str">'file'</span>=&gt;<span class="src-var">$file</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a482"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$diff</span><span class="src-sym">)</span></li>
<li><a name="a483"></a>    <span class="src-sym">{</span></li>
<li><a name="a484"></a>        <span class="src-comm">//Search existing encodings</span></li>
<li><a name="a485"></a>        <span class="src-var">$d</span>=<span class="src-num">0</span><span class="src-sym">;</span></li>
<li><a name="a486"></a>        <span class="src-var">$nb</span>=<a href="http://www.php.net/count">count</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$diffs">diffs</a><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a487"></a>        <span class="src-key">for</span><span class="src-sym">(</span><span class="src-var">$i</span>=<span class="src-num">1</span><span class="src-sym">;</span><span class="src-var">$i</span>&lt;=<span class="src-var">$nb</span><span class="src-sym">;</span><span class="src-var">$i</span>++<span class="src-sym">)</span></li>
<li><a name="a488"></a>            <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$diffs">diffs</a><span class="src-sym">[</span><span class="src-var">$i</span><span class="src-sym">]</span>==<span class="src-var">$diff</span><span class="src-sym">)</span></li>
<li><a name="a489"></a>            <span class="src-sym">{</span></li>
<li><a name="a490"></a>                <span class="src-var">$d</span>=<span class="src-var">$i</span><span class="src-sym">;</span></li>
<li><a name="a491"></a>                <span class="src-key">break</span><span class="src-sym">;</span></li>
<li><a name="a492"></a>            <span class="src-sym">}</span></li>
<li><a name="a493"></a>        <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$d</span>==<span class="src-num">0</span><span class="src-sym">)</span></li>
<li><a name="a494"></a>        <span class="src-sym">{</span></li>
<li><a name="a495"></a>            <span class="src-var">$d</span>=<span class="src-var">$nb</span>+<span class="src-num">1</span><span class="src-sym">;</span></li>
<li><a name="a496"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$diffs">diffs</a><span class="src-sym">[</span><span class="src-var">$d</span><span class="src-sym">]</span>=<span class="src-var">$diff</span><span class="src-sym">;</span></li>
<li><a name="a497"></a>        <span class="src-sym">}</span></li>
<li><a name="a498"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$fonts">fonts</a><span class="src-sym">[</span><span class="src-var">$family</span>.<span class="src-var">$style</span><span class="src-sym">]</span><span class="src-sym">[</span><span class="src-str">'diff'</span><span class="src-sym">]</span>=<span class="src-var">$d</span><span class="src-sym">;</span></li>
<li><a name="a499"></a>    <span class="src-sym">}</span></li>
<li><a name="a500"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$file</span><span class="src-sym">)</span></li>
<li><a name="a501"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontFiles">FontFiles</a><span class="src-sym">[</span><span class="src-var">$file</span><span class="src-sym">]</span>=<span class="src-key">array</span><span class="src-sym">(</span><span class="src-str">'originalsize'</span>=&gt;<span class="src-var">$originalsize</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a502"></a><span class="src-sym">}</span></li>
<li><a name="a503"></a>&nbsp;</li>
<li><a name="a504"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodSetFont">SetFont</a><span class="src-sym">(</span><span class="src-var">$family</span><span class="src-sym">,</span><span class="src-var">$style</span>=<span class="src-str">''</span><span class="src-sym">,</span><span class="src-var">$size</span>=<span class="src-num">0</span><span class="src-sym">)</span></li>
<li><a name="a505"></a><span class="src-sym">{</span></li>
<li><a name="a506"></a>    <span class="src-comm">//Select a font; size given in points</span></li>
<li><a name="a507"></a>    <span class="src-key">global </span><span class="src-var">$fpdf_charwidths</span><span class="src-sym">;</span></li>
<li><a name="a508"></a>&nbsp;</li>
<li><a name="a509"></a>    <span class="src-var">$family</span>=<a href="http://www.php.net/strtolower">strtolower</a><span class="src-sym">(</span><span class="src-var">$family</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a510"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$family</span>==<span class="src-str">''</span><span class="src-sym">)</span></li>
<li><a name="a511"></a>        <span class="src-var">$family</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontFamily">FontFamily</a><span class="src-sym">;</span></li>
<li><a name="a512"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$family</span>==<span class="src-str">'arial'</span><span class="src-sym">)</span></li>
<li><a name="a513"></a>        <span class="src-var">$family</span>=<span class="src-str">'helvetica'</span><span class="src-sym">;</span></li>
<li><a name="a514"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$family</span>==<span class="src-str">'symbol' </span><span class="src-key">or </span><span class="src-var">$family</span>==<span class="src-str">'zapfdingbats'</span><span class="src-sym">)</span></li>
<li><a name="a515"></a>        <span class="src-var">$style</span>=<span class="src-str">''</span><span class="src-sym">;</span></li>
<li><a name="a516"></a>    <span class="src-var">$style</span>=<a href="http://www.php.net/strtoupper">strtoupper</a><span class="src-sym">(</span><span class="src-var">$style</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a517"></a>    <span class="src-key">if</span><span class="src-sym">(</span><a href="http://www.php.net/is_int">is_int</a><span class="src-sym">(</span><a href="http://www.php.net/strpos">strpos</a><span class="src-sym">(</span><span class="src-var">$style</span><span class="src-sym">,</span><span class="src-str">'U'</span><span class="src-sym">)))</span></li>
<li><a name="a518"></a>    <span class="src-sym">{</span></li>
<li><a name="a519"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$underline">underline</a>=<span class="src-id">true</span><span class="src-sym">;</span></li>
<li><a name="a520"></a>        <span class="src-var">$style</span>=<a href="http://www.php.net/str_replace">str_replace</a><span class="src-sym">(</span><span class="src-str">'U'</span><span class="src-sym">,</span><span class="src-str">''</span><span class="src-sym">,</span><span class="src-var">$style</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a521"></a>    <span class="src-sym">}</span></li>
<li><a name="a522"></a>    <span class="src-key">else</span></li>
<li><a name="a523"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$underline">underline</a>=<span class="src-id">false</span><span class="src-sym">;</span></li>
<li><a name="a524"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$style</span>==<span class="src-str">'IB'</span><span class="src-sym">)</span></li>
<li><a name="a525"></a>        <span class="src-var">$style</span>=<span class="src-str">'BI'</span><span class="src-sym">;</span></li>
<li><a name="a526"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$size</span>==<span class="src-num">0</span><span class="src-sym">)</span></li>
<li><a name="a527"></a>        <span class="src-var">$size</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontSizePt">FontSizePt</a><span class="src-sym">;</span></li>
<li><a name="a528"></a>    <span class="src-comm">//Test if font is already selected</span></li>
<li><a name="a529"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontFamily">FontFamily</a>==<span class="src-var">$family </span><span class="src-key">and </span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontStyle">FontStyle</a>==<span class="src-var">$style </span><span class="src-key">and </span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontSizePt">FontSizePt</a>==<span class="src-var">$size</span><span class="src-sym">)</span></li>
<li><a name="a530"></a>        <span class="src-key">return</span><span class="src-sym">;</span></li>
<li><a name="a531"></a>    <span class="src-comm">//Test if used for the first time</span></li>
<li><a name="a532"></a>    <span class="src-var">$fontkey</span>=<span class="src-var">$family</span>.<span class="src-var">$style</span><span class="src-sym">;</span></li>
<li><a name="a533"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-sym">!</span>isset<span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$fonts">fonts</a><span class="src-sym">[</span><span class="src-var">$fontkey</span><span class="src-sym">]</span><span class="src-sym">))</span></li>
<li><a name="a534"></a>    <span class="src-sym">{</span></li>
<li><a name="a535"></a>        <span class="src-comm">//Check if one of the core fonts</span></li>
<li><a name="a536"></a>        <span class="src-key">if</span><span class="src-sym">(</span>isset<span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$CoreFonts">CoreFonts</a><span class="src-sym">[</span><span class="src-var">$fontkey</span><span class="src-sym">]</span><span class="src-sym">))</span></li>
<li><a name="a537"></a>        <span class="src-sym">{</span></li>
<li><a name="a538"></a>            <span class="src-key">if</span><span class="src-sym">(</span><span class="src-sym">!</span>isset<span class="src-sym">(</span><span class="src-var">$fpdf_charwidths</span><span class="src-sym">[</span><span class="src-var">$fontkey</span><span class="src-sym">]</span><span class="src-sym">))</span></li>
<li><a name="a539"></a>            <span class="src-sym">{</span></li>
<li><a name="a540"></a>                <span class="src-comm">//Load metric file</span></li>
<li><a name="a541"></a>                <span class="src-var">$file</span>=<span class="src-var">$family</span><span class="src-sym">;</span></li>
<li><a name="a542"></a>                <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$family</span>==<span class="src-str">'times' </span><span class="src-key">or </span><span class="src-var">$family</span>==<span class="src-str">'helvetica'</span><span class="src-sym">)</span></li>
<li><a name="a543"></a>                    <span class="src-var">$file</span>.=<a href="http://www.php.net/strtolower">strtolower</a><span class="src-sym">(</span><span class="src-var">$style</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a544"></a>                <span class="src-var">$file</span>.=<span class="src-str">'.php'</span><span class="src-sym">;</span></li>
<li><a name="a545"></a>                <span class="src-key">if</span><span class="src-sym">(</span><a href="http://www.php.net/defined">defined</a><span class="src-sym">(</span><span class="src-str">'FPDF_FONTPATH'</span><span class="src-sym">))</span></li>
<li><a name="a546"></a>                    <span class="src-var">$file</span>=<span class="src-id"><a href="../default/_fpdf_example_ex_php.html#defineFPDF_FONTPATH">FPDF_FONTPATH</a></span>.<span class="src-var">$file</span><span class="src-sym">;</span></li>
<li><a name="a547"></a>                <span class="src-inc">include</span><span class="src-sym">(</span><span class="src-var">$file</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a548"></a>                <span class="src-key">if</span><span class="src-sym">(</span><span class="src-sym">!</span>isset<span class="src-sym">(</span><span class="src-var">$fpdf_charwidths</span><span class="src-sym">[</span><span class="src-var">$fontkey</span><span class="src-sym">]</span><span class="src-sym">))</span></li>
<li><a name="a549"></a>                    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodError">Error</a><span class="src-sym">(</span><span class="src-str">'Could not include font metric file'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a550"></a>            <span class="src-sym">}</span></li>
<li><a name="a551"></a>            <span class="src-var">$i</span>=<a href="http://www.php.net/count">count</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$fonts">fonts</a><span class="src-sym">)</span>+<span class="src-num">1</span><span class="src-sym">;</span></li>
<li><a name="a552"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$fonts">fonts</a><span class="src-sym">[</span><span class="src-var">$fontkey</span><span class="src-sym">]</span>=<span class="src-key">array</span><span class="src-sym">(</span><span class="src-str">'i'</span>=&gt;<span class="src-var">$i</span><span class="src-sym">,</span><span class="src-str">'type'</span>=&gt;<span class="src-str">'core'</span><span class="src-sym">,</span><span class="src-str">'name'</span>=&gt;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$CoreFonts">CoreFonts</a><span class="src-sym">[</span><span class="src-var">$fontkey</span><span class="src-sym">]</span><span class="src-sym">,</span><span class="src-str">'up'</span>=&gt;-<span class="src-num">100</span><span class="src-sym">,</span><span class="src-str">'ut'</span>=&gt;<span class="src-num">50</span><span class="src-sym">,</span><span class="src-str">'cw'</span>=&gt;<span class="src-var">$fpdf_charwidths</span><span class="src-sym">[</span><span class="src-var">$fontkey</span><span class="src-sym">]</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a553"></a>        <span class="src-sym">}</span></li>
<li><a name="a554"></a>        <span class="src-key">else</span></li>
<li><a name="a555"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodError">Error</a><span class="src-sym">(</span><span class="src-str">'Undefined font: '</span>.<span class="src-var">$family</span>.<span class="src-str">' '</span>.<span class="src-var">$style</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a556"></a>    <span class="src-sym">}</span></li>
<li><a name="a557"></a>    <span class="src-comm">//Select it</span></li>
<li><a name="a558"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontFamily">FontFamily</a>=<span class="src-var">$family</span><span class="src-sym">;</span></li>
<li><a name="a559"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontStyle">FontStyle</a>=<span class="src-var">$style</span><span class="src-sym">;</span></li>
<li><a name="a560"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontSizePt">FontSizePt</a>=<span class="src-var">$size</span><span class="src-sym">;</span></li>
<li><a name="a561"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontSize">FontSize</a>=<a href="http://www.php.net/round">round</a><span class="src-sym">(</span><span class="src-var">$size</span>/<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$k">k</a><span class="src-sym">,</span><span class="src-num">2</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a562"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$CurrentFont">CurrentFont</a>=<span class="src-sym">&amp;</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$fonts">fonts</a><span class="src-sym">[</span><span class="src-var">$fontkey</span><span class="src-sym">]</span><span class="src-sym">;</span></li>
<li><a name="a563"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$page">page</a>&gt;<span class="src-num">0</span><span class="src-sym">)</span></li>
<li><a name="a564"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'BT /F'</span>.<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$CurrentFont">CurrentFont</a><span class="src-sym">[</span><span class="src-str">'i'</span><span class="src-sym">]</span>.<span class="src-str">' '</span>.<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontSize">FontSize</a>.<span class="src-str">' Tf ET'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a565"></a><span class="src-sym">}</span></li>
<li><a name="a566"></a>&nbsp;</li>
<li><a name="a567"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodSetFontSize">SetFontSize</a><span class="src-sym">(</span><span class="src-var">$size</span><span class="src-sym">)</span></li>
<li><a name="a568"></a><span class="src-sym">{</span></li>
<li><a name="a569"></a>    <span class="src-comm">//Set font size in points</span></li>
<li><a name="a570"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontSizePt">FontSizePt</a>==<span class="src-var">$size</span><span class="src-sym">)</span></li>
<li><a name="a571"></a>        <span class="src-key">return</span><span class="src-sym">;</span></li>
<li><a name="a572"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontSizePt">FontSizePt</a>=<span class="src-var">$size</span><span class="src-sym">;</span></li>
<li><a name="a573"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontSize">FontSize</a>=<a href="http://www.php.net/round">round</a><span class="src-sym">(</span><span class="src-var">$size</span>/<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$k">k</a><span class="src-sym">,</span><span class="src-num">2</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a574"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$page">page</a>&gt;<span class="src-num">0</span><span class="src-sym">)</span></li>
<li><a name="a575"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'BT /F'</span>.<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$CurrentFont">CurrentFont</a><span class="src-sym">[</span><span class="src-str">'i'</span><span class="src-sym">]</span>.<span class="src-str">' '</span>.<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontSize">FontSize</a>.<span class="src-str">' Tf ET'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a576"></a><span class="src-sym">}</span></li>
<li><a name="a577"></a>&nbsp;</li>
<li><a name="a578"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodAddLink">AddLink</a><span class="src-sym">(</span><span class="src-sym">)</span></li>
<li><a name="a579"></a><span class="src-sym">{</span></li>
<li><a name="a580"></a>    <span class="src-comm">//Create a new internal link</span></li>
<li><a name="a581"></a>    <span class="src-var">$n</span>=<a href="http://www.php.net/count">count</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$links">links</a><span class="src-sym">)</span>+<span class="src-num">1</span><span class="src-sym">;</span></li>
<li><a name="a582"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$links">links</a><span class="src-sym">[</span><span class="src-var">$n</span><span class="src-sym">]</span>=<span class="src-key">array</span><span class="src-sym">(</span><span class="src-num">0</span><span class="src-sym">,</span><span class="src-num">0</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a583"></a>    <span class="src-key">return </span><span class="src-var">$n</span><span class="src-sym">;</span></li>
<li><a name="a584"></a><span class="src-sym">}</span></li>
<li><a name="a585"></a>&nbsp;</li>
<li><a name="a586"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodSetLink">SetLink</a><span class="src-sym">(</span><span class="src-var">$link</span><span class="src-sym">,</span><span class="src-var">$y</span>=<span class="src-num">0</span><span class="src-sym">,</span><span class="src-var">$page</span>=-<span class="src-num">1</span><span class="src-sym">)</span></li>
<li><a name="a587"></a><span class="src-sym">{</span></li>
<li><a name="a588"></a>    <span class="src-comm">//Set destination of internal link</span></li>
<li><a name="a589"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$y</span>==-<span class="src-num">1</span><span class="src-sym">)</span></li>
<li><a name="a590"></a>        <span class="src-var">$y</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$y">y</a><span class="src-sym">;</span></li>
<li><a name="a591"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$page</span>==-<span class="src-num">1</span><span class="src-sym">)</span></li>
<li><a name="a592"></a>        <span class="src-var">$page</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$page">page</a><span class="src-sym">;</span></li>
<li><a name="a593"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$links">links</a><span class="src-sym">[</span><span class="src-var">$link</span><span class="src-sym">]</span>=<span class="src-key">array</span><span class="src-sym">(</span><span class="src-var">$page</span><span class="src-sym">,</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$hPt">hPt</a>-<span class="src-var">$y</span>*<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$k">k</a><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a594"></a><span class="src-sym">}</span></li>
<li><a name="a595"></a>&nbsp;</li>
<li><a name="a596"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodLink">Link</a><span class="src-sym">(</span><span class="src-var">$x</span><span class="src-sym">,</span><span class="src-var">$y</span><span class="src-sym">,</span><span class="src-var">$w</span><span class="src-sym">,</span><span class="src-var">$h</span><span class="src-sym">,</span><span class="src-var">$link</span><span class="src-sym">)</span></li>
<li><a name="a597"></a><span class="src-sym">{</span></li>
<li><a name="a598"></a>    <span class="src-comm">//Put a link on the page</span></li>
<li><a name="a599"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$PageLinks">PageLinks</a><span class="src-sym">[</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$page">page</a><span class="src-sym">]</span><span class="src-sym">[</span><span class="src-sym">]</span>=<span class="src-key">array</span><span class="src-sym">(</span><span class="src-var">$x</span>*<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$k">k</a><span class="src-sym">,</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$hPt">hPt</a>-<span class="src-var">$y</span>*<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$k">k</a><span class="src-sym">,</span><span class="src-var">$w</span>*<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$k">k</a><span class="src-sym">,</span><span class="src-var">$h</span>*<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$k">k</a><span class="src-sym">,</span><span class="src-var">$link</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a600"></a><span class="src-sym">}</span></li>
<li><a name="a601"></a>&nbsp;</li>
<li><a name="a602"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodText">Text</a><span class="src-sym">(</span><span class="src-var">$x</span><span class="src-sym">,</span><span class="src-var">$y</span><span class="src-sym">,</span><span class="src-var">$txt</span><span class="src-sym">)</span></li>
<li><a name="a603"></a><span class="src-sym">{</span></li>
<li><a name="a604"></a>    <span class="src-comm">//Output a string</span></li>
<li><a name="a605"></a>    <span class="src-var">$txt</span>=<a href="http://www.php.net/str_replace">str_replace</a><span class="src-sym">(</span><span class="src-str">')'</span><span class="src-sym">,</span><span class="src-str">'\\)'</span><span class="src-sym">,</span><a href="http://www.php.net/str_replace">str_replace</a><span class="src-sym">(</span><span class="src-str">'('</span><span class="src-sym">,</span><span class="src-str">'\\('</span><span class="src-sym">,</span><a href="http://www.php.net/str_replace">str_replace</a><span class="src-sym">(</span><span class="src-str">'\\'</span><span class="src-sym">,</span><span class="src-str">'\\\\'</span><span class="src-sym">,</span><span class="src-var">$txt</span><span class="src-sym">)))</span><span class="src-sym">;</span></li>
<li><a name="a606"></a>    <span class="src-var">$s</span>=<span class="src-str">'BT '</span>.<span class="src-var">$x</span>.<span class="src-str">' -'</span>.<span class="src-var">$y</span>.<span class="src-str">' Td ('</span>.<span class="src-var">$txt</span>.<span class="src-str">') Tj ET'</span><span class="src-sym">;</span></li>
<li><a name="a607"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$underline">underline</a> <span class="src-key">and </span><span class="src-var">$txt</span>!=<span class="src-str">''</span><span class="src-sym">)</span></li>
<li><a name="a608"></a>        <span class="src-var">$s</span>.=<span class="src-str">' '</span>.<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_dounderline</span><span class="src-sym">(</span><span class="src-var">$x</span><span class="src-sym">,</span><span class="src-var">$y</span><span class="src-sym">,</span><span class="src-var">$txt</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a609"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$ColorFlag">ColorFlag</a><span class="src-sym">)</span></li>
<li><a name="a610"></a>        <span class="src-var">$s</span>=<span class="src-str">'q '</span>.<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$TextColor">TextColor</a>.<span class="src-str">' '</span>.<span class="src-var">$s</span>.<span class="src-str">' Q'</span><span class="src-sym">;</span></li>
<li><a name="a611"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-var">$s</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a612"></a><span class="src-sym">}</span></li>
<li><a name="a613"></a>&nbsp;</li>
<li><a name="a614"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodAcceptPageBreak">AcceptPageBreak</a><span class="src-sym">(</span><span class="src-sym">)</span></li>
<li><a name="a615"></a><span class="src-sym">{</span></li>
<li><a name="a616"></a>    <span class="src-comm">//Accept automatic page break or not</span></li>
<li><a name="a617"></a>    <span class="src-key">return </span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$AutoPageBreak">AutoPageBreak</a><span class="src-sym">;</span></li>
<li><a name="a618"></a><span class="src-sym">}</span></li>
<li><a name="a619"></a>&nbsp;</li>
<li><a name="a620"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodCell">Cell</a><span class="src-sym">(</span><span class="src-var">$w</span><span class="src-sym">,</span><span class="src-var">$h</span>=<span class="src-num">0</span><span class="src-sym">,</span><span class="src-var">$txt</span>=<span class="src-str">''</span><span class="src-sym">,</span><span class="src-var">$border</span>=<span class="src-num">0</span><span class="src-sym">,</span><span class="src-var">$ln</span>=<span class="src-num">0</span><span class="src-sym">,</span><span class="src-var">$align</span>=<span class="src-str">''</span><span class="src-sym">,</span><span class="src-var">$fill</span>=<span class="src-num">0</span><span class="src-sym">,</span><span class="src-var">$link</span>=<span class="src-str">''</span><span class="src-sym">)</span></li>
<li><a name="a621"></a><span class="src-sym">{</span></li>
<li><a name="a622"></a>    <span class="src-comm">//Output a cell</span></li>
<li><a name="a623"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$y">y</a>+<span class="src-var">$h</span>&gt;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$PageBreakTrigger">PageBreakTrigger</a> <span class="src-key">and </span><span class="src-sym">!</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$InFooter">InFooter</a> <span class="src-key">and </span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodAcceptPageBreak">AcceptPageBreak</a><span class="src-sym">(</span><span class="src-sym">))</span></li>
<li><a name="a624"></a>    <span class="src-sym">{</span></li>
<li><a name="a625"></a>        <span class="src-var">$x</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$x">x</a><span class="src-sym">;</span></li>
<li><a name="a626"></a>        <span class="src-var">$ws</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$ws">ws</a><span class="src-sym">;</span></li>
<li><a name="a627"></a>        <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$ws</span>&gt;<span class="src-num">0</span><span class="src-sym">)</span></li>
<li><a name="a628"></a>        <span class="src-sym">{</span></li>
<li><a name="a629"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$ws">ws</a>=<span class="src-num">0</span><span class="src-sym">;</span></li>
<li><a name="a630"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'0 Tw'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a631"></a>        <span class="src-sym">}</span></li>
<li><a name="a632"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodAddPage">AddPage</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$CurOrientation">CurOrientation</a><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a633"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$x">x</a>=<span class="src-var">$x</span><span class="src-sym">;</span></li>
<li><a name="a634"></a>        <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$ws</span>&gt;<span class="src-num">0</span><span class="src-sym">)</span></li>
<li><a name="a635"></a>        <span class="src-sym">{</span></li>
<li><a name="a636"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$ws">ws</a>=<span class="src-var">$ws</span><span class="src-sym">;</span></li>
<li><a name="a637"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-var">$ws</span>.<span class="src-str">' Tw'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a638"></a>        <span class="src-sym">}</span></li>
<li><a name="a639"></a>    <span class="src-sym">}</span></li>
<li><a name="a640"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$w</span>==<span class="src-num">0</span><span class="src-sym">)</span></li>
<li><a name="a641"></a>        <span class="src-var">$w</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$w">w</a>-<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$rMargin">rMargin</a>-<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$x">x</a><span class="src-sym">;</span></li>
<li><a name="a642"></a>    <span class="src-var">$s</span>=<span class="src-str">''</span><span class="src-sym">;</span></li>
<li><a name="a643"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$fill</span>==<span class="src-num">1 </span><span class="src-key">or </span><span class="src-var">$border</span>==<span class="src-num">1</span><span class="src-sym">)</span></li>
<li><a name="a644"></a>    <span class="src-sym">{</span></li>
<li><a name="a645"></a>        <span class="src-var">$s</span>.=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$x">x</a>.<span class="src-str">' -'</span>.<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$y">y</a>.<span class="src-str">' '</span>.<span class="src-var">$w</span>.<span class="src-str">' -'</span>.<span class="src-var">$h</span>.<span class="src-str">' re '</span><span class="src-sym">;</span></li>
<li><a name="a646"></a>        <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$fill</span>==<span class="src-num">1</span><span class="src-sym">)</span></li>
<li><a name="a647"></a>            <span class="src-var">$s</span>.=<span class="src-sym">(</span><span class="src-var">$border</span>==<span class="src-num">1</span><span class="src-sym">) </span>? <span class="src-str">'B ' </span>: <span class="src-str">'f '</span><span class="src-sym">;</span></li>
<li><a name="a648"></a>        <span class="src-key">else</span></li>
<li><a name="a649"></a>            <span class="src-var">$s</span>.=<span class="src-str">'S '</span><span class="src-sym">;</span></li>
<li><a name="a650"></a>    <span class="src-sym">}</span></li>
<li><a name="a651"></a>    <span class="src-key">if</span><span class="src-sym">(</span><a href="http://www.php.net/is_string">is_string</a><span class="src-sym">(</span><span class="src-var">$border</span><span class="src-sym">))</span></li>
<li><a name="a652"></a>    <span class="src-sym">{</span></li>
<li><a name="a653"></a>        <span class="src-var">$x</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$x">x</a><span class="src-sym">;</span></li>
<li><a name="a654"></a>        <span class="src-var">$y</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$y">y</a><span class="src-sym">;</span></li>
<li><a name="a655"></a>        <span class="src-key">if</span><span class="src-sym">(</span><a href="http://www.php.net/is_int">is_int</a><span class="src-sym">(</span><a href="http://www.php.net/strpos">strpos</a><span class="src-sym">(</span><span class="src-var">$border</span><span class="src-sym">,</span><span class="src-str">'L'</span><span class="src-sym">)))</span></li>
<li><a name="a656"></a>            <span class="src-var">$s</span>.=<span class="src-var">$x</span>.<span class="src-str">' -'</span>.<span class="src-var">$y</span>.<span class="src-str">' m '</span>.<span class="src-var">$x</span>.<span class="src-str">' -'</span>.<span class="src-sym">(</span><span class="src-var">$y</span>+<span class="src-var">$h</span><span class="src-sym">)</span>.<span class="src-str">' l S '</span><span class="src-sym">;</span></li>
<li><a name="a657"></a>        <span class="src-key">if</span><span class="src-sym">(</span><a href="http://www.php.net/is_int">is_int</a><span class="src-sym">(</span><a href="http://www.php.net/strpos">strpos</a><span class="src-sym">(</span><span class="src-var">$border</span><span class="src-sym">,</span><span class="src-str">'T'</span><span class="src-sym">)))</span></li>
<li><a name="a658"></a>            <span class="src-var">$s</span>.=<span class="src-var">$x</span>.<span class="src-str">' -'</span>.<span class="src-var">$y</span>.<span class="src-str">' m '</span>.<span class="src-sym">(</span><span class="src-var">$x</span>+<span class="src-var">$w</span><span class="src-sym">)</span>.<span class="src-str">' -'</span>.<span class="src-var">$y</span>.<span class="src-str">' l S '</span><span class="src-sym">;</span></li>
<li><a name="a659"></a>        <span class="src-key">if</span><span class="src-sym">(</span><a href="http://www.php.net/is_int">is_int</a><span class="src-sym">(</span><a href="http://www.php.net/strpos">strpos</a><span class="src-sym">(</span><span class="src-var">$border</span><span class="src-sym">,</span><span class="src-str">'R'</span><span class="src-sym">)))</span></li>
<li><a name="a660"></a>            <span class="src-var">$s</span>.=<span class="src-sym">(</span><span class="src-var">$x</span>+<span class="src-var">$w</span><span class="src-sym">)</span>.<span class="src-str">' -'</span>.<span class="src-var">$y</span>.<span class="src-str">' m '</span>.<span class="src-sym">(</span><span class="src-var">$x</span>+<span class="src-var">$w</span><span class="src-sym">)</span>.<span class="src-str">' -'</span>.<span class="src-sym">(</span><span class="src-var">$y</span>+<span class="src-var">$h</span><span class="src-sym">)</span>.<span class="src-str">' l S '</span><span class="src-sym">;</span></li>
<li><a name="a661"></a>        <span class="src-key">if</span><span class="src-sym">(</span><a href="http://www.php.net/is_int">is_int</a><span class="src-sym">(</span><a href="http://www.php.net/strpos">strpos</a><span class="src-sym">(</span><span class="src-var">$border</span><span class="src-sym">,</span><span class="src-str">'B'</span><span class="src-sym">)))</span></li>
<li><a name="a662"></a>            <span class="src-var">$s</span>.=<span class="src-var">$x</span>.<span class="src-str">' -'</span>.<span class="src-sym">(</span><span class="src-var">$y</span>+<span class="src-var">$h</span><span class="src-sym">)</span>.<span class="src-str">' m '</span>.<span class="src-sym">(</span><span class="src-var">$x</span>+<span class="src-var">$w</span><span class="src-sym">)</span>.<span class="src-str">' -'</span>.<span class="src-sym">(</span><span class="src-var">$y</span>+<span class="src-var">$h</span><span class="src-sym">)</span>.<span class="src-str">' l S '</span><span class="src-sym">;</span></li>
<li><a name="a663"></a>    <span class="src-sym">}</span></li>
<li><a name="a664"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$txt</span>!=<span class="src-str">''</span><span class="src-sym">)</span></li>
<li><a name="a665"></a>    <span class="src-sym">{</span></li>
<li><a name="a666"></a>        <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$align</span>==<span class="src-str">'R'</span><span class="src-sym">)</span></li>
<li><a name="a667"></a>            <span class="src-var">$dx</span>=<span class="src-var">$w</span>-<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$cMargin">cMargin</a>-<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodGetStringWidth">GetStringWidth</a><span class="src-sym">(</span><span class="src-var">$txt</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a668"></a>        <span class="src-key">elseif</span><span class="src-sym">(</span><span class="src-var">$align</span>==<span class="src-str">'C'</span><span class="src-sym">)</span></li>
<li><a name="a669"></a>            <span class="src-var">$dx</span>=<span class="src-sym">(</span><span class="src-var">$w</span>-<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodGetStringWidth">GetStringWidth</a><span class="src-sym">(</span><span class="src-var">$txt</span><span class="src-sym">))</span>/<span class="src-num">2</span><span class="src-sym">;</span></li>
<li><a name="a670"></a>        <span class="src-key">else</span></li>
<li><a name="a671"></a>            <span class="src-var">$dx</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$cMargin">cMargin</a><span class="src-sym">;</span></li>
<li><a name="a672"></a>        <span class="src-var">$txt</span>=<a href="http://www.php.net/str_replace">str_replace</a><span class="src-sym">(</span><span class="src-str">')'</span><span class="src-sym">,</span><span class="src-str">'\\)'</span><span class="src-sym">,</span><a href="http://www.php.net/str_replace">str_replace</a><span class="src-sym">(</span><span class="src-str">'('</span><span class="src-sym">,</span><span class="src-str">'\\('</span><span class="src-sym">,</span><a href="http://www.php.net/str_replace">str_replace</a><span class="src-sym">(</span><span class="src-str">'\\'</span><span class="src-sym">,</span><span class="src-str">'\\\\'</span><span class="src-sym">,</span><span class="src-var">$txt</span><span class="src-sym">)))</span><span class="src-sym">;</span></li>
<li><a name="a673"></a>        <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$ColorFlag">ColorFlag</a><span class="src-sym">)</span></li>
<li><a name="a674"></a>            <span class="src-var">$s</span>.=<span class="src-str">'q '</span>.<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$TextColor">TextColor</a>.<span class="src-str">' '</span><span class="src-sym">;</span></li>
<li><a name="a675"></a>        <span class="src-var">$s</span>.=<span class="src-str">'BT '</span>.<span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$x">x</a>+<span class="src-var">$dx</span><span class="src-sym">)</span>.<span class="src-str">' -'</span>.<span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$y">y</a>+<span class="src-num">.5</span>*<span class="src-var">$h</span>+<span class="src-num">.3</span>*<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontSize">FontSize</a><span class="src-sym">)</span>.<span class="src-str">' Td ('</span>.<span class="src-var">$txt</span>.<span class="src-str">') Tj ET'</span><span class="src-sym">;</span></li>
<li><a name="a676"></a>        <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$underline">underline</a><span class="src-sym">)</span></li>
<li><a name="a677"></a>            <span class="src-var">$s</span>.=<span class="src-str">' '</span>.<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_dounderline</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$x">x</a>+<span class="src-var">$dx</span><span class="src-sym">,</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$y">y</a>+<span class="src-num">.5</span>*<span class="src-var">$h</span>+<span class="src-num">.3</span>*<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontSize">FontSize</a><span class="src-sym">,</span><span class="src-var">$txt</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a678"></a>        <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$ColorFlag">ColorFlag</a><span class="src-sym">)</span></li>
<li><a name="a679"></a>            <span class="src-var">$s</span>.=<span class="src-str">' Q'</span><span class="src-sym">;</span></li>
<li><a name="a680"></a>        <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$link</span><span class="src-sym">)</span></li>
<li><a name="a681"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodLink">Link</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$x">x</a>+<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$cMargin">cMargin</a><span class="src-sym">,</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$y">y</a>+<span class="src-num">.5</span>*<span class="src-var">$h</span>-<span class="src-num">.5</span>*<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontSize">FontSize</a><span class="src-sym">,</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodGetStringWidth">GetStringWidth</a><span class="src-sym">(</span><span class="src-var">$txt</span><span class="src-sym">)</span><span class="src-sym">,</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontSize">FontSize</a><span class="src-sym">,</span><span class="src-var">$link</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a682"></a>    <span class="src-sym">}</span></li>
<li><a name="a683"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$s</span><span class="src-sym">)</span></li>
<li><a name="a684"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-var">$s</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a685"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$lasth">lasth</a>=<span class="src-var">$h</span><span class="src-sym">;</span></li>
<li><a name="a686"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$ln</span>&gt;<span class="src-num">0</span><span class="src-sym">)</span></li>
<li><a name="a687"></a>    <span class="src-sym">{</span></li>
<li><a name="a688"></a>        <span class="src-comm">//Go to next line</span></li>
<li><a name="a689"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$y">y</a>+=<span class="src-var">$h</span><span class="src-sym">;</span></li>
<li><a name="a690"></a>        <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$ln</span>==<span class="src-num">1</span><span class="src-sym">)</span></li>
<li><a name="a691"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$x">x</a>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$lMargin">lMargin</a><span class="src-sym">;</span></li>
<li><a name="a692"></a>    <span class="src-sym">}</span></li>
<li><a name="a693"></a>    <span class="src-key">else</span></li>
<li><a name="a694"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$x">x</a>+=<span class="src-var">$w</span><span class="src-sym">;</span></li>
<li><a name="a695"></a><span class="src-sym">}</span></li>
<li><a name="a696"></a>&nbsp;</li>
<li><a name="a697"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodMultiCell">MultiCell</a><span class="src-sym">(</span><span class="src-var">$w</span><span class="src-sym">,</span><span class="src-var">$h</span><span class="src-sym">,</span><span class="src-var">$txt</span><span class="src-sym">,</span><span class="src-var">$border</span>=<span class="src-num">0</span><span class="src-sym">,</span><span class="src-var">$align</span>=<span class="src-str">'J'</span><span class="src-sym">,</span><span class="src-var">$fill</span>=<span class="src-num">0</span><span class="src-sym">)</span></li>
<li><a name="a698"></a><span class="src-sym">{</span></li>
<li><a name="a699"></a>    <span class="src-comm">//Output text with automatic or explicit line breaks</span></li>
<li><a name="a700"></a>    <span class="src-var">$cw</span>=<span class="src-sym">&amp;</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$CurrentFont">CurrentFont</a><span class="src-sym">[</span><span class="src-str">'cw'</span><span class="src-sym">]</span><span class="src-sym">;</span></li>
<li><a name="a701"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$w</span>==<span class="src-num">0</span><span class="src-sym">)</span></li>
<li><a name="a702"></a>        <span class="src-var">$w</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$w">w</a>-<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$rMargin">rMargin</a>-<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$x">x</a><span class="src-sym">;</span></li>
<li><a name="a703"></a>    <span class="src-var">$wmax</span>=<span class="src-sym">(</span><span class="src-var">$w</span>-<span class="src-num">2</span>*<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$cMargin">cMargin</a><span class="src-sym">)</span>*<span class="src-num">1000</span>/<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontSize">FontSize</a><span class="src-sym">;</span></li>
<li><a name="a704"></a>    <span class="src-var">$s</span>=<a href="http://www.php.net/str_replace">str_replace</a><span class="src-sym">(</span><span class="src-str">&quot;\r&quot;</span><span class="src-sym">,</span><span class="src-str">''</span><span class="src-sym">,</span><span class="src-var">$txt</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a705"></a>    <span class="src-var">$nb</span>=<a href="http://www.php.net/strlen">strlen</a><span class="src-sym">(</span><span class="src-var">$s</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a706"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$nb</span>&gt;<span class="src-num">0 </span><span class="src-key">and </span><span class="src-var">$s</span><span class="src-sym">[</span><span class="src-var">$nb</span>-<span class="src-num">1</span><span class="src-sym">]</span>==<span class="src-str">&quot;\n&quot;</span><span class="src-sym">)</span></li>
<li><a name="a707"></a>        <span class="src-var">$nb</span>--<span class="src-sym">;</span></li>
<li><a name="a708"></a>    <span class="src-var">$b</span>=<span class="src-num">0</span><span class="src-sym">;</span></li>
<li><a name="a709"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$border</span><span class="src-sym">)</span></li>
<li><a name="a710"></a>    <span class="src-sym">{</span></li>
<li><a name="a711"></a>        <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$border</span>==<span class="src-num">1</span><span class="src-sym">)</span></li>
<li><a name="a712"></a>        <span class="src-sym">{</span></li>
<li><a name="a713"></a>            <span class="src-var">$border</span>=<span class="src-str">'LTRB'</span><span class="src-sym">;</span></li>
<li><a name="a714"></a>            <span class="src-var">$b</span>=<span class="src-str">'LRT'</span><span class="src-sym">;</span></li>
<li><a name="a715"></a>            <span class="src-var">$b2</span>=<span class="src-str">'LR'</span><span class="src-sym">;</span></li>
<li><a name="a716"></a>        <span class="src-sym">}</span></li>
<li><a name="a717"></a>        <span class="src-key">else</span></li>
<li><a name="a718"></a>        <span class="src-sym">{</span></li>
<li><a name="a719"></a>            <span class="src-var">$b2</span>=<span class="src-str">''</span><span class="src-sym">;</span></li>
<li><a name="a720"></a>            <span class="src-key">if</span><span class="src-sym">(</span><a href="http://www.php.net/is_int">is_int</a><span class="src-sym">(</span><a href="http://www.php.net/strpos">strpos</a><span class="src-sym">(</span><span class="src-var">$border</span><span class="src-sym">,</span><span class="src-str">'L'</span><span class="src-sym">)))</span></li>
<li><a name="a721"></a>                <span class="src-var">$b2</span>.=<span class="src-str">'L'</span><span class="src-sym">;</span></li>
<li><a name="a722"></a>            <span class="src-key">if</span><span class="src-sym">(</span><a href="http://www.php.net/is_int">is_int</a><span class="src-sym">(</span><a href="http://www.php.net/strpos">strpos</a><span class="src-sym">(</span><span class="src-var">$border</span><span class="src-sym">,</span><span class="src-str">'R'</span><span class="src-sym">)))</span></li>
<li><a name="a723"></a>                <span class="src-var">$b2</span>.=<span class="src-str">'R'</span><span class="src-sym">;</span></li>
<li><a name="a724"></a>            <span class="src-var">$b</span>=<a href="http://www.php.net/is_int">is_int</a><span class="src-sym">(</span><a href="http://www.php.net/strpos">strpos</a><span class="src-sym">(</span><span class="src-var">$border</span><span class="src-sym">,</span><span class="src-str">'T'</span><span class="src-sym">)) </span>? <span class="src-var">$b2</span>.<span class="src-str">'T' </span>: <span class="src-var">$b2</span><span class="src-sym">;</span></li>
<li><a name="a725"></a>        <span class="src-sym">}</span></li>
<li><a name="a726"></a>    <span class="src-sym">}</span></li>
<li><a name="a727"></a>    <span class="src-var">$sep</span>=-<span class="src-num">1</span><span class="src-sym">;</span></li>
<li><a name="a728"></a>    <span class="src-var">$i</span>=<span class="src-num">0</span><span class="src-sym">;</span></li>
<li><a name="a729"></a>    <span class="src-var">$j</span>=<span class="src-num">0</span><span class="src-sym">;</span></li>
<li><a name="a730"></a>    <span class="src-var">$l</span>=<span class="src-num">0</span><span class="src-sym">;</span></li>
<li><a name="a731"></a>    <span class="src-var">$ns</span>=<span class="src-num">0</span><span class="src-sym">;</span></li>
<li><a name="a732"></a>    <span class="src-var">$nl</span>=<span class="src-num">1</span><span class="src-sym">;</span></li>
<li><a name="a733"></a>    <span class="src-key">while</span><span class="src-sym">(</span><span class="src-var">$i</span>&lt;<span class="src-var">$nb</span><span class="src-sym">)</span></li>
<li><a name="a734"></a>    <span class="src-sym">{</span></li>
<li><a name="a735"></a>        <span class="src-comm">//Get next character</span></li>
<li><a name="a736"></a>        <span class="src-var">$c</span>=<span class="src-var">$s</span><span class="src-sym">[</span><span class="src-var">$i</span><span class="src-sym">]</span><span class="src-sym">;</span></li>
<li><a name="a737"></a>        <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$c</span>==<span class="src-str">&quot;\n&quot;</span><span class="src-sym">)</span></li>
<li><a name="a738"></a>        <span class="src-sym">{</span></li>
<li><a name="a739"></a>            <span class="src-comm">//Explicit line break</span></li>
<li><a name="a740"></a>            <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$ws">ws</a>&gt;<span class="src-num">0</span><span class="src-sym">)</span></li>
<li><a name="a741"></a>            <span class="src-sym">{</span></li>
<li><a name="a742"></a>                <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$ws">ws</a>=<span class="src-num">0</span><span class="src-sym">;</span></li>
<li><a name="a743"></a>                <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'0 Tw'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a744"></a>            <span class="src-sym">}</span></li>
<li><a name="a745"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodCell">Cell</a><span class="src-sym">(</span><span class="src-var">$w</span><span class="src-sym">,</span><span class="src-var">$h</span><span class="src-sym">,</span><a href="http://www.php.net/substr">substr</a><span class="src-sym">(</span><span class="src-var">$s</span><span class="src-sym">,</span><span class="src-var">$j</span><span class="src-sym">,</span><span class="src-var">$i</span>-<span class="src-var">$j</span><span class="src-sym">)</span><span class="src-sym">,</span><span class="src-var">$b</span><span class="src-sym">,</span><span class="src-num">2</span><span class="src-sym">,</span><span class="src-var">$align</span><span class="src-sym">,</span><span class="src-var">$fill</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a746"></a>            <span class="src-var">$i</span>++<span class="src-sym">;</span></li>
<li><a name="a747"></a>            <span class="src-var">$sep</span>=-<span class="src-num">1</span><span class="src-sym">;</span></li>
<li><a name="a748"></a>            <span class="src-var">$j</span>=<span class="src-var">$i</span><span class="src-sym">;</span></li>
<li><a name="a749"></a>            <span class="src-var">$l</span>=<span class="src-num">0</span><span class="src-sym">;</span></li>
<li><a name="a750"></a>            <span class="src-var">$ns</span>=<span class="src-num">0</span><span class="src-sym">;</span></li>
<li><a name="a751"></a>            <span class="src-var">$nl</span>++<span class="src-sym">;</span></li>
<li><a name="a752"></a>            <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$border </span><span class="src-key">and </span><span class="src-var">$nl</span>==<span class="src-num">2</span><span class="src-sym">)</span></li>
<li><a name="a753"></a>                <span class="src-var">$b</span>=<span class="src-var">$b2</span><span class="src-sym">;</span></li>
<li><a name="a754"></a>            <span class="src-key">continue</span><span class="src-sym">;</span></li>
<li><a name="a755"></a>        <span class="src-sym">}</span></li>
<li><a name="a756"></a>        <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$c</span>==<span class="src-str">' '</span><span class="src-sym">)</span></li>
<li><a name="a757"></a>        <span class="src-sym">{</span></li>
<li><a name="a758"></a>            <span class="src-var">$sep</span>=<span class="src-var">$i</span><span class="src-sym">;</span></li>
<li><a name="a759"></a>            <span class="src-var">$ls</span>=<span class="src-var">$l</span><span class="src-sym">;</span></li>
<li><a name="a760"></a>            <span class="src-var">$ns</span>++<span class="src-sym">;</span></li>
<li><a name="a761"></a>        <span class="src-sym">}</span></li>
<li><a name="a762"></a>        <span class="src-var">$l</span>+=<span class="src-var">$cw</span><span class="src-sym">[</span><span class="src-var">$c</span><span class="src-sym">]</span><span class="src-sym">;</span></li>
<li><a name="a763"></a>        <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$l</span>&gt;<span class="src-var">$wmax</span><span class="src-sym">)</span></li>
<li><a name="a764"></a>        <span class="src-sym">{</span></li>
<li><a name="a765"></a>            <span class="src-comm">//Automatic line break</span></li>
<li><a name="a766"></a>            <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$sep</span>==-<span class="src-num">1</span><span class="src-sym">)</span></li>
<li><a name="a767"></a>            <span class="src-sym">{</span></li>
<li><a name="a768"></a>                <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$i</span>==<span class="src-var">$j</span><span class="src-sym">)</span></li>
<li><a name="a769"></a>                    <span class="src-var">$i</span>++<span class="src-sym">;</span></li>
<li><a name="a770"></a>                <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$ws">ws</a>&gt;<span class="src-num">0</span><span class="src-sym">)</span></li>
<li><a name="a771"></a>                <span class="src-sym">{</span></li>
<li><a name="a772"></a>                    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$ws">ws</a>=<span class="src-num">0</span><span class="src-sym">;</span></li>
<li><a name="a773"></a>                    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'0 Tw'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a774"></a>                <span class="src-sym">}</span></li>
<li><a name="a775"></a>                <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodCell">Cell</a><span class="src-sym">(</span><span class="src-var">$w</span><span class="src-sym">,</span><span class="src-var">$h</span><span class="src-sym">,</span><a href="http://www.php.net/substr">substr</a><span class="src-sym">(</span><span class="src-var">$s</span><span class="src-sym">,</span><span class="src-var">$j</span><span class="src-sym">,</span><span class="src-var">$i</span>-<span class="src-var">$j</span><span class="src-sym">)</span><span class="src-sym">,</span><span class="src-var">$b</span><span class="src-sym">,</span><span class="src-num">2</span><span class="src-sym">,</span><span class="src-var">$align</span><span class="src-sym">,</span><span class="src-var">$fill</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a776"></a>            <span class="src-sym">}</span></li>
<li><a name="a777"></a>            <span class="src-key">else</span></li>
<li><a name="a778"></a>            <span class="src-sym">{</span></li>
<li><a name="a779"></a>                <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$align</span>==<span class="src-str">'J'</span><span class="src-sym">)</span></li>
<li><a name="a780"></a>                <span class="src-sym">{</span></li>
<li><a name="a781"></a>                    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$ws">ws</a>=<span class="src-sym">(</span><span class="src-var">$ns</span>&gt;<span class="src-num">1</span><span class="src-sym">) </span>? <a href="http://www.php.net/round">round</a><span class="src-sym">((</span><span class="src-var">$wmax</span>-<span class="src-var">$ls</span><span class="src-sym">)</span>/<span class="src-num">1000</span>*<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontSize">FontSize</a>/<span class="src-sym">(</span><span class="src-var">$ns</span>-<span class="src-num">1</span><span class="src-sym">)</span><span class="src-sym">,</span><span class="src-num">3</span><span class="src-sym">) </span>: <span class="src-num">0</span><span class="src-sym">;</span></li>
<li><a name="a782"></a>                    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$ws">ws</a>.<span class="src-str">' Tw'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a783"></a>                <span class="src-sym">}</span></li>
<li><a name="a784"></a>                <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodCell">Cell</a><span class="src-sym">(</span><span class="src-var">$w</span><span class="src-sym">,</span><span class="src-var">$h</span><span class="src-sym">,</span><a href="http://www.php.net/substr">substr</a><span class="src-sym">(</span><span class="src-var">$s</span><span class="src-sym">,</span><span class="src-var">$j</span><span class="src-sym">,</span><span class="src-var">$sep</span>-<span class="src-var">$j</span><span class="src-sym">)</span><span class="src-sym">,</span><span class="src-var">$b</span><span class="src-sym">,</span><span class="src-num">2</span><span class="src-sym">,</span><span class="src-var">$align</span><span class="src-sym">,</span><span class="src-var">$fill</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a785"></a>                <span class="src-var">$i</span>=<span class="src-var">$sep</span>+<span class="src-num">1</span><span class="src-sym">;</span></li>
<li><a name="a786"></a>            <span class="src-sym">}</span></li>
<li><a name="a787"></a>            <span class="src-var">$sep</span>=-<span class="src-num">1</span><span class="src-sym">;</span></li>
<li><a name="a788"></a>            <span class="src-var">$j</span>=<span class="src-var">$i</span><span class="src-sym">;</span></li>
<li><a name="a789"></a>            <span class="src-var">$l</span>=<span class="src-num">0</span><span class="src-sym">;</span></li>
<li><a name="a790"></a>            <span class="src-var">$ns</span>=<span class="src-num">0</span><span class="src-sym">;</span></li>
<li><a name="a791"></a>            <span class="src-var">$nl</span>++<span class="src-sym">;</span></li>
<li><a name="a792"></a>            <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$border </span><span class="src-key">and </span><span class="src-var">$nl</span>==<span class="src-num">2</span><span class="src-sym">)</span></li>
<li><a name="a793"></a>                <span class="src-var">$b</span>=<span class="src-var">$b2</span><span class="src-sym">;</span></li>
<li><a name="a794"></a>        <span class="src-sym">}</span></li>
<li><a name="a795"></a>        <span class="src-key">else</span></li>
<li><a name="a796"></a>            <span class="src-var">$i</span>++<span class="src-sym">;</span></li>
<li><a name="a797"></a>    <span class="src-sym">}</span></li>
<li><a name="a798"></a>    <span class="src-comm">//Last chunk</span></li>
<li><a name="a799"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$ws">ws</a>&gt;<span class="src-num">0</span><span class="src-sym">)</span></li>
<li><a name="a800"></a>    <span class="src-sym">{</span></li>
<li><a name="a801"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$ws">ws</a>=<span class="src-num">0</span><span class="src-sym">;</span></li>
<li><a name="a802"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'0 Tw'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a803"></a>    <span class="src-sym">}</span></li>
<li><a name="a804"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$border </span><span class="src-key">and </span><a href="http://www.php.net/is_int">is_int</a><span class="src-sym">(</span><a href="http://www.php.net/strpos">strpos</a><span class="src-sym">(</span><span class="src-var">$border</span><span class="src-sym">,</span><span class="src-str">'B'</span><span class="src-sym">)))</span></li>
<li><a name="a805"></a>        <span class="src-var">$b</span>.=<span class="src-str">'B'</span><span class="src-sym">;</span></li>
<li><a name="a806"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodCell">Cell</a><span class="src-sym">(</span><span class="src-var">$w</span><span class="src-sym">,</span><span class="src-var">$h</span><span class="src-sym">,</span><a href="http://www.php.net/substr">substr</a><span class="src-sym">(</span><span class="src-var">$s</span><span class="src-sym">,</span><span class="src-var">$j</span><span class="src-sym">,</span><span class="src-var">$i</span><span class="src-sym">)</span><span class="src-sym">,</span><span class="src-var">$b</span><span class="src-sym">,</span><span class="src-num">2</span><span class="src-sym">,</span><span class="src-var">$align</span><span class="src-sym">,</span><span class="src-var">$fill</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a807"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$x">x</a>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$lMargin">lMargin</a><span class="src-sym">;</span></li>
<li><a name="a808"></a><span class="src-sym">}</span></li>
<li><a name="a809"></a>&nbsp;</li>
<li><a name="a810"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodWrite">Write</a><span class="src-sym">(</span><span class="src-var">$h</span><span class="src-sym">,</span><span class="src-var">$txt</span><span class="src-sym">,</span><span class="src-var">$link</span>=<span class="src-str">''</span><span class="src-sym">)</span></li>
<li><a name="a811"></a><span class="src-sym">{</span></li>
<li><a name="a812"></a>    <span class="src-comm">//Output text in flowing mode</span></li>
<li><a name="a813"></a>    <span class="src-var">$cw</span>=<span class="src-sym">&amp;</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$CurrentFont">CurrentFont</a><span class="src-sym">[</span><span class="src-str">'cw'</span><span class="src-sym">]</span><span class="src-sym">;</span></li>
<li><a name="a814"></a>    <span class="src-var">$w</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$w">w</a>-<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$rMargin">rMargin</a>-<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$x">x</a><span class="src-sym">;</span></li>
<li><a name="a815"></a>    <span class="src-var">$wmax</span>=<span class="src-sym">(</span><span class="src-var">$w</span>-<span class="src-num">2</span>*<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$cMargin">cMargin</a><span class="src-sym">)</span>*<span class="src-num">1000</span>/<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontSize">FontSize</a><span class="src-sym">;</span></li>
<li><a name="a816"></a>    <span class="src-var">$s</span>=<a href="http://www.php.net/str_replace">str_replace</a><span class="src-sym">(</span><span class="src-str">&quot;\r&quot;</span><span class="src-sym">,</span><span class="src-str">''</span><span class="src-sym">,</span><span class="src-var">$txt</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a817"></a>    <span class="src-var">$nb</span>=<a href="http://www.php.net/strlen">strlen</a><span class="src-sym">(</span><span class="src-var">$s</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a818"></a>    <span class="src-var">$sep</span>=-<span class="src-num">1</span><span class="src-sym">;</span></li>
<li><a name="a819"></a>    <span class="src-var">$i</span>=<span class="src-num">0</span><span class="src-sym">;</span></li>
<li><a name="a820"></a>    <span class="src-var">$j</span>=<span class="src-num">0</span><span class="src-sym">;</span></li>
<li><a name="a821"></a>    <span class="src-var">$l</span>=<span class="src-num">0</span><span class="src-sym">;</span></li>
<li><a name="a822"></a>    <span class="src-var">$nl</span>=<span class="src-num">1</span><span class="src-sym">;</span></li>
<li><a name="a823"></a>    <span class="src-key">while</span><span class="src-sym">(</span><span class="src-var">$i</span>&lt;<span class="src-var">$nb</span><span class="src-sym">)</span></li>
<li><a name="a824"></a>    <span class="src-sym">{</span></li>
<li><a name="a825"></a>        <span class="src-comm">//Get next character</span></li>
<li><a name="a826"></a>        <span class="src-var">$c</span>=<span class="src-var">$s</span><span class="src-sym">{</span><span class="src-var">$i</span><span class="src-sym">}</span><span class="src-sym">;</span></li>
<li><a name="a827"></a>        <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$c</span>==<span class="src-str">&quot;\n&quot;</span><span class="src-sym">)</span></li>
<li><a name="a828"></a>        <span class="src-sym">{</span></li>
<li><a name="a829"></a>            <span class="src-comm">//Explicit line break</span></li>
<li><a name="a830"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodCell">Cell</a><span class="src-sym">(</span><span class="src-var">$w</span><span class="src-sym">,</span><span class="src-var">$h</span><span class="src-sym">,</span><a href="http://www.php.net/substr">substr</a><span class="src-sym">(</span><span class="src-var">$s</span><span class="src-sym">,</span><span class="src-var">$j</span><span class="src-sym">,</span><span class="src-var">$i</span>-<span class="src-var">$j</span><span class="src-sym">)</span><span class="src-sym">,</span><span class="src-num">0</span><span class="src-sym">,</span><span class="src-num">2</span><span class="src-sym">,</span><span class="src-str">''</span><span class="src-sym">,</span><span class="src-num">0</span><span class="src-sym">,</span><span class="src-var">$link</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a831"></a>            <span class="src-var">$i</span>++<span class="src-sym">;</span></li>
<li><a name="a832"></a>            <span class="src-var">$sep</span>=-<span class="src-num">1</span><span class="src-sym">;</span></li>
<li><a name="a833"></a>            <span class="src-var">$j</span>=<span class="src-var">$i</span><span class="src-sym">;</span></li>
<li><a name="a834"></a>            <span class="src-var">$l</span>=<span class="src-num">0</span><span class="src-sym">;</span></li>
<li><a name="a835"></a>            <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$nl</span>==<span class="src-num">1</span><span class="src-sym">)</span></li>
<li><a name="a836"></a>            <span class="src-sym">{</span></li>
<li><a name="a837"></a>                <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$x">x</a>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$lMargin">lMargin</a><span class="src-sym">;</span></li>
<li><a name="a838"></a>                <span class="src-var">$w</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$w">w</a>-<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$rMargin">rMargin</a>-<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$x">x</a><span class="src-sym">;</span></li>
<li><a name="a839"></a>                <span class="src-var">$wmax</span>=<span class="src-sym">(</span><span class="src-var">$w</span>-<span class="src-num">2</span>*<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$cMargin">cMargin</a><span class="src-sym">)</span>*<span class="src-num">1000</span>/<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontSize">FontSize</a><span class="src-sym">;</span></li>
<li><a name="a840"></a>            <span class="src-sym">}</span></li>
<li><a name="a841"></a>            <span class="src-var">$nl</span>++<span class="src-sym">;</span></li>
<li><a name="a842"></a>            <span class="src-key">continue</span><span class="src-sym">;</span></li>
<li><a name="a843"></a>        <span class="src-sym">}</span></li>
<li><a name="a844"></a>        <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$c</span>==<span class="src-str">' '</span><span class="src-sym">)</span></li>
<li><a name="a845"></a>        <span class="src-sym">{</span></li>
<li><a name="a846"></a>            <span class="src-var">$sep</span>=<span class="src-var">$i</span><span class="src-sym">;</span></li>
<li><a name="a847"></a>            <span class="src-var">$ls</span>=<span class="src-var">$l</span><span class="src-sym">;</span></li>
<li><a name="a848"></a>        <span class="src-sym">}</span></li>
<li><a name="a849"></a>        <span class="src-var">$l</span>+=<span class="src-var">$cw</span><span class="src-sym">[</span><span class="src-var">$c</span><span class="src-sym">]</span><span class="src-sym">;</span></li>
<li><a name="a850"></a>        <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$l</span>&gt;<span class="src-var">$wmax</span><span class="src-sym">)</span></li>
<li><a name="a851"></a>        <span class="src-sym">{</span></li>
<li><a name="a852"></a>            <span class="src-comm">//Automatic line break</span></li>
<li><a name="a853"></a>            <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$sep</span>==-<span class="src-num">1</span><span class="src-sym">)</span></li>
<li><a name="a854"></a>            <span class="src-sym">{</span></li>
<li><a name="a855"></a>                <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$x">x</a>&gt;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$lMargin">lMargin</a><span class="src-sym">)</span></li>
<li><a name="a856"></a>                <span class="src-sym">{</span></li>
<li><a name="a857"></a>                    <span class="src-comm">//Move to next line</span></li>
<li><a name="a858"></a>                    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$x">x</a>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$lMargin">lMargin</a><span class="src-sym">;</span></li>
<li><a name="a859"></a>                    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$y">y</a>+=<span class="src-var">$h</span><span class="src-sym">;</span></li>
<li><a name="a860"></a>                    <span class="src-var">$w</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$w">w</a>-<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$rMargin">rMargin</a>-<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$x">x</a><span class="src-sym">;</span></li>
<li><a name="a861"></a>                    <span class="src-var">$wmax</span>=<span class="src-sym">(</span><span class="src-var">$w</span>-<span class="src-num">2</span>*<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$cMargin">cMargin</a><span class="src-sym">)</span>*<span class="src-num">1000</span>/<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontSize">FontSize</a><span class="src-sym">;</span></li>
<li><a name="a862"></a>                    <span class="src-var">$i</span>++<span class="src-sym">;</span></li>
<li><a name="a863"></a>                    <span class="src-var">$nl</span>++<span class="src-sym">;</span></li>
<li><a name="a864"></a>                    <span class="src-key">continue</span><span class="src-sym">;</span></li>
<li><a name="a865"></a>                <span class="src-sym">}</span></li>
<li><a name="a866"></a>                <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$i</span>==<span class="src-var">$j</span><span class="src-sym">)</span></li>
<li><a name="a867"></a>                    <span class="src-var">$i</span>++<span class="src-sym">;</span></li>
<li><a name="a868"></a>                <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodCell">Cell</a><span class="src-sym">(</span><span class="src-var">$w</span><span class="src-sym">,</span><span class="src-var">$h</span><span class="src-sym">,</span><a href="http://www.php.net/substr">substr</a><span class="src-sym">(</span><span class="src-var">$s</span><span class="src-sym">,</span><span class="src-var">$j</span><span class="src-sym">,</span><span class="src-var">$i</span>-<span class="src-var">$j</span><span class="src-sym">)</span><span class="src-sym">,</span><span class="src-num">0</span><span class="src-sym">,</span><span class="src-num">2</span><span class="src-sym">,</span><span class="src-str">''</span><span class="src-sym">,</span><span class="src-num">0</span><span class="src-sym">,</span><span class="src-var">$link</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a869"></a>            <span class="src-sym">}</span></li>
<li><a name="a870"></a>            <span class="src-key">else</span></li>
<li><a name="a871"></a>            <span class="src-sym">{</span></li>
<li><a name="a872"></a>                <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodCell">Cell</a><span class="src-sym">(</span><span class="src-var">$w</span><span class="src-sym">,</span><span class="src-var">$h</span><span class="src-sym">,</span><a href="http://www.php.net/substr">substr</a><span class="src-sym">(</span><span class="src-var">$s</span><span class="src-sym">,</span><span class="src-var">$j</span><span class="src-sym">,</span><span class="src-var">$sep</span>-<span class="src-var">$j</span><span class="src-sym">)</span><span class="src-sym">,</span><span class="src-num">0</span><span class="src-sym">,</span><span class="src-num">2</span><span class="src-sym">,</span><span class="src-str">''</span><span class="src-sym">,</span><span class="src-num">0</span><span class="src-sym">,</span><span class="src-var">$link</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a873"></a>                <span class="src-var">$i</span>=<span class="src-var">$sep</span>+<span class="src-num">1</span><span class="src-sym">;</span></li>
<li><a name="a874"></a>            <span class="src-sym">}</span></li>
<li><a name="a875"></a>            <span class="src-var">$sep</span>=-<span class="src-num">1</span><span class="src-sym">;</span></li>
<li><a name="a876"></a>            <span class="src-var">$j</span>=<span class="src-var">$i</span><span class="src-sym">;</span></li>
<li><a name="a877"></a>            <span class="src-var">$l</span>=<span class="src-num">0</span><span class="src-sym">;</span></li>
<li><a name="a878"></a>            <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$nl</span>==<span class="src-num">1</span><span class="src-sym">)</span></li>
<li><a name="a879"></a>            <span class="src-sym">{</span></li>
<li><a name="a880"></a>                <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$x">x</a>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$lMargin">lMargin</a><span class="src-sym">;</span></li>
<li><a name="a881"></a>                <span class="src-var">$w</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$w">w</a>-<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$rMargin">rMargin</a>-<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$x">x</a><span class="src-sym">;</span></li>
<li><a name="a882"></a>                <span class="src-var">$wmax</span>=<span class="src-sym">(</span><span class="src-var">$w</span>-<span class="src-num">2</span>*<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$cMargin">cMargin</a><span class="src-sym">)</span>*<span class="src-num">1000</span>/<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontSize">FontSize</a><span class="src-sym">;</span></li>
<li><a name="a883"></a>            <span class="src-sym">}</span></li>
<li><a name="a884"></a>            <span class="src-var">$nl</span>++<span class="src-sym">;</span></li>
<li><a name="a885"></a>        <span class="src-sym">}</span></li>
<li><a name="a886"></a>        <span class="src-key">else</span></li>
<li><a name="a887"></a>            <span class="src-var">$i</span>++<span class="src-sym">;</span></li>
<li><a name="a888"></a>    <span class="src-sym">}</span></li>
<li><a name="a889"></a>    <span class="src-comm">//Last chunk</span></li>
<li><a name="a890"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$i</span>!=<span class="src-var">$j</span><span class="src-sym">)</span></li>
<li><a name="a891"></a>    <span class="src-sym">{</span></li>
<li><a name="a892"></a>        <span class="src-var">$w</span>=<a href="http://www.php.net/round">round</a><span class="src-sym">(</span><span class="src-var">$l</span>/<span class="src-num">1000</span>*<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontSize">FontSize</a><span class="src-sym">,</span><span class="src-num">2</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a893"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodCell">Cell</a><span class="src-sym">(</span><span class="src-var">$w</span><span class="src-sym">,</span><span class="src-var">$h</span><span class="src-sym">,</span><a href="http://www.php.net/substr">substr</a><span class="src-sym">(</span><span class="src-var">$s</span><span class="src-sym">,</span><span class="src-var">$j</span><span class="src-sym">,</span><span class="src-var">$i</span><span class="src-sym">)</span><span class="src-sym">,</span><span class="src-num">0</span><span class="src-sym">,</span><span class="src-num">0</span><span class="src-sym">,</span><span class="src-str">''</span><span class="src-sym">,</span><span class="src-num">0</span><span class="src-sym">,</span><span class="src-var">$link</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a894"></a>    <span class="src-sym">}</span></li>
<li><a name="a895"></a><span class="src-sym">}</span></li>
<li><a name="a896"></a>&nbsp;</li>
<li><a name="a897"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodImage">Image</a><span class="src-sym">(</span><span class="src-var">$file</span><span class="src-sym">,</span><span class="src-var">$x</span><span class="src-sym">,</span><span class="src-var">$y</span><span class="src-sym">,</span><span class="src-var">$w</span><span class="src-sym">,</span><span class="src-var">$h</span>=<span class="src-num">0</span><span class="src-sym">,</span><span class="src-var">$type</span>=<span class="src-str">''</span><span class="src-sym">,</span><span class="src-var">$link</span>=<span class="src-str">''</span><span class="src-sym">)</span></li>
<li><a name="a898"></a><span class="src-sym">{</span></li>
<li><a name="a899"></a>    <span class="src-comm">//Put an image on the page</span></li>
<li><a name="a900"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-sym">!</span>isset<span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$images">images</a><span class="src-sym">[</span><span class="src-var">$file</span><span class="src-sym">]</span><span class="src-sym">))</span></li>
<li><a name="a901"></a>    <span class="src-sym">{</span></li>
<li><a name="a902"></a>        <span class="src-comm">//First use of image, get info</span></li>
<li><a name="a903"></a>        <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$type</span>==<span class="src-str">''</span><span class="src-sym">)</span></li>
<li><a name="a904"></a>        <span class="src-sym">{</span></li>
<li><a name="a905"></a>            <span class="src-var">$pos</span>=<a href="http://www.php.net/strrpos">strrpos</a><span class="src-sym">(</span><span class="src-var">$file</span><span class="src-sym">,</span><span class="src-str">'.'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a906"></a>            <span class="src-key">if</span><span class="src-sym">(</span><span class="src-sym">!</span><span class="src-var">$pos</span><span class="src-sym">)</span></li>
<li><a name="a907"></a>                <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodError">Error</a><span class="src-sym">(</span><span class="src-str">'Image file has no extension and no type was specified: '</span>.<span class="src-var">$file</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a908"></a>            <span class="src-var">$type</span>=<a href="http://www.php.net/substr">substr</a><span class="src-sym">(</span><span class="src-var">$file</span><span class="src-sym">,</span><span class="src-var">$pos</span>+<span class="src-num">1</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a909"></a>        <span class="src-sym">}</span></li>
<li><a name="a910"></a>        <span class="src-var">$type</span>=<a href="http://www.php.net/strtolower">strtolower</a><span class="src-sym">(</span><span class="src-var">$type</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a911"></a>        <span class="src-var">$mqr</span>=<a href="http://www.php.net/get_magic_quotes_runtime">get_magic_quotes_runtime</a><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a912"></a>        <a href="http://www.php.net/set_magic_quotes_runtime">set_magic_quotes_runtime</a><span class="src-sym">(</span><span class="src-num">0</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a913"></a>        <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$type</span>==<span class="src-str">'jpg' </span><span class="src-key">or </span><span class="src-var">$type</span>==<span class="src-str">'jpeg'</span><span class="src-sym">)</span></li>
<li><a name="a914"></a>            <span class="src-var">$info</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_parsejpg</span><span class="src-sym">(</span><span class="src-var">$file</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a915"></a>        <span class="src-key">elseif</span><span class="src-sym">(</span><span class="src-var">$type</span>==<span class="src-str">'png'</span><span class="src-sym">)</span></li>
<li><a name="a916"></a>            <span class="src-var">$info</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_parsepng</span><span class="src-sym">(</span><span class="src-var">$file</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a917"></a>        <span class="src-key">else</span></li>
<li><a name="a918"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodError">Error</a><span class="src-sym">(</span><span class="src-str">'Unsupported image file type: '</span>.<span class="src-var">$type</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a919"></a>        <a href="http://www.php.net/set_magic_quotes_runtime">set_magic_quotes_runtime</a><span class="src-sym">(</span><span class="src-var">$mqr</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a920"></a>        <span class="src-var">$info</span><span class="src-sym">[</span><span class="src-str">'n'</span><span class="src-sym">]</span>=<a href="http://www.php.net/count">count</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$images">images</a><span class="src-sym">)</span>+<span class="src-num">1</span><span class="src-sym">;</span></li>
<li><a name="a921"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$images">images</a><span class="src-sym">[</span><span class="src-var">$file</span><span class="src-sym">]</span>=<span class="src-var">$info</span><span class="src-sym">;</span></li>
<li><a name="a922"></a>    <span class="src-sym">}</span></li>
<li><a name="a923"></a>    <span class="src-key">else</span></li>
<li><a name="a924"></a>        <span class="src-var">$info</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$images">images</a><span class="src-sym">[</span><span class="src-var">$file</span><span class="src-sym">]</span><span class="src-sym">;</span></li>
<li><a name="a925"></a>    <span class="src-comm">//Automatic width or height calculus</span></li>
<li><a name="a926"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$w</span>==<span class="src-num">0</span><span class="src-sym">)</span></li>
<li><a name="a927"></a>        <span class="src-var">$w</span>=<a href="http://www.php.net/round">round</a><span class="src-sym">(</span><span class="src-var">$h</span>*<span class="src-var">$info</span><span class="src-sym">[</span><span class="src-str">'w'</span><span class="src-sym">]</span>/<span class="src-var">$info</span><span class="src-sym">[</span><span class="src-str">'h'</span><span class="src-sym">]</span><span class="src-sym">,</span><span class="src-num">2</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a928"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$h</span>==<span class="src-num">0</span><span class="src-sym">)</span></li>
<li><a name="a929"></a>        <span class="src-var">$h</span>=<a href="http://www.php.net/round">round</a><span class="src-sym">(</span><span class="src-var">$w</span>*<span class="src-var">$info</span><span class="src-sym">[</span><span class="src-str">'h'</span><span class="src-sym">]</span>/<span class="src-var">$info</span><span class="src-sym">[</span><span class="src-str">'w'</span><span class="src-sym">]</span><span class="src-sym">,</span><span class="src-num">2</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a930"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'q '</span>.<span class="src-var">$w</span>.<span class="src-str">' 0 0 '</span>.<span class="src-var">$h</span>.<span class="src-str">' '</span>.<span class="src-var">$x</span>.<span class="src-str">' -'</span>.<span class="src-sym">(</span><span class="src-var">$y</span>+<span class="src-var">$h</span><span class="src-sym">)</span>.<span class="src-str">' cm /I'</span>.<span class="src-var">$info</span><span class="src-sym">[</span><span class="src-str">'n'</span><span class="src-sym">]</span>.<span class="src-str">' Do Q'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a931"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$link</span><span class="src-sym">)</span></li>
<li><a name="a932"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodLink">Link</a><span class="src-sym">(</span><span class="src-var">$x</span><span class="src-sym">,</span><span class="src-var">$y</span><span class="src-sym">,</span><span class="src-var">$w</span><span class="src-sym">,</span><span class="src-var">$h</span><span class="src-sym">,</span><span class="src-var">$link</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a933"></a><span class="src-sym">}</span></li>
<li><a name="a934"></a>&nbsp;</li>
<li><a name="a935"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodLn">Ln</a><span class="src-sym">(</span><span class="src-var">$h</span>=<span class="src-str">''</span><span class="src-sym">)</span></li>
<li><a name="a936"></a><span class="src-sym">{</span></li>
<li><a name="a937"></a>    <span class="src-comm">//Line feed; default value is last cell height</span></li>
<li><a name="a938"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$x">x</a>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$lMargin">lMargin</a><span class="src-sym">;</span></li>
<li><a name="a939"></a>    <span class="src-key">if</span><span class="src-sym">(</span><a href="http://www.php.net/is_string">is_string</a><span class="src-sym">(</span><span class="src-var">$h</span><span class="src-sym">))</span></li>
<li><a name="a940"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$y">y</a>+=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$lasth">lasth</a><span class="src-sym">;</span></li>
<li><a name="a941"></a>    <span class="src-key">else</span></li>
<li><a name="a942"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$y">y</a>+=<span class="src-var">$h</span><span class="src-sym">;</span></li>
<li><a name="a943"></a><span class="src-sym">}</span></li>
<li><a name="a944"></a>&nbsp;</li>
<li><a name="a945"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodGetX">GetX</a><span class="src-sym">(</span><span class="src-sym">)</span></li>
<li><a name="a946"></a><span class="src-sym">{</span></li>
<li><a name="a947"></a>    <span class="src-comm">//Get x position</span></li>
<li><a name="a948"></a>    <span class="src-key">return </span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$x">x</a><span class="src-sym">;</span></li>
<li><a name="a949"></a><span class="src-sym">}</span></li>
<li><a name="a950"></a>&nbsp;</li>
<li><a name="a951"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodSetX">SetX</a><span class="src-sym">(</span><span class="src-var">$x</span><span class="src-sym">)</span></li>
<li><a name="a952"></a><span class="src-sym">{</span></li>
<li><a name="a953"></a>    <span class="src-comm">//Set x position</span></li>
<li><a name="a954"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$x</span>&gt;=<span class="src-num">0</span><span class="src-sym">)</span></li>
<li><a name="a955"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$x">x</a>=<span class="src-var">$x</span><span class="src-sym">;</span></li>
<li><a name="a956"></a>    <span class="src-key">else</span></li>
<li><a name="a957"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$x">x</a>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$w">w</a>+<span class="src-var">$x</span><span class="src-sym">;</span></li>
<li><a name="a958"></a><span class="src-sym">}</span></li>
<li><a name="a959"></a>&nbsp;</li>
<li><a name="a960"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodGetY">GetY</a><span class="src-sym">(</span><span class="src-sym">)</span></li>
<li><a name="a961"></a><span class="src-sym">{</span></li>
<li><a name="a962"></a>    <span class="src-comm">//Get y position</span></li>
<li><a name="a963"></a>    <span class="src-key">return </span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$y">y</a><span class="src-sym">;</span></li>
<li><a name="a964"></a><span class="src-sym">}</span></li>
<li><a name="a965"></a>&nbsp;</li>
<li><a name="a966"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodSetY">SetY</a><span class="src-sym">(</span><span class="src-var">$y</span><span class="src-sym">)</span></li>
<li><a name="a967"></a><span class="src-sym">{</span></li>
<li><a name="a968"></a>    <span class="src-comm">//Set y position and reset x</span></li>
<li><a name="a969"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$x">x</a>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$lMargin">lMargin</a><span class="src-sym">;</span></li>
<li><a name="a970"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$y</span>&gt;=<span class="src-num">0</span><span class="src-sym">)</span></li>
<li><a name="a971"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$y">y</a>=<span class="src-var">$y</span><span class="src-sym">;</span></li>
<li><a name="a972"></a>    <span class="src-key">else</span></li>
<li><a name="a973"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$y">y</a>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$h">h</a>+<span class="src-var">$y</span><span class="src-sym">;</span></li>
<li><a name="a974"></a><span class="src-sym">}</span></li>
<li><a name="a975"></a>&nbsp;</li>
<li><a name="a976"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodSetXY">SetXY</a><span class="src-sym">(</span><span class="src-var">$x</span><span class="src-sym">,</span><span class="src-var">$y</span><span class="src-sym">)</span></li>
<li><a name="a977"></a><span class="src-sym">{</span></li>
<li><a name="a978"></a>    <span class="src-comm">//Set x and y positions</span></li>
<li><a name="a979"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodSetY">SetY</a><span class="src-sym">(</span><span class="src-var">$y</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a980"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodSetX">SetX</a><span class="src-sym">(</span><span class="src-var">$x</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a981"></a><span class="src-sym">}</span></li>
<li><a name="a982"></a>&nbsp;</li>
<li><a name="a983"></a><span class="src-key">function </span><a href="../FPDF/FPDF.html#methodOutput">Output</a><span class="src-sym">(</span><span class="src-var">$file</span>=<span class="src-str">''</span><span class="src-sym">,</span><span class="src-var">$download</span>=<span class="src-id">false</span><span class="src-sym">)</span></li>
<li><a name="a984"></a><span class="src-sym">{</span></li>
<li><a name="a985"></a>    <span class="src-comm">//Output PDF to file or browser</span></li>
<li><a name="a986"></a>    <span class="src-key">global </span><span class="src-var">$HTTP_ENV_VARS</span><span class="src-sym">;</span></li>
<li><a name="a987"></a>&nbsp;</li>
<li><a name="a988"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$state">state</a>&lt;<span class="src-num">3</span><span class="src-sym">)</span></li>
<li><a name="a989"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodClose">Close</a><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a990"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$file</span>==<span class="src-str">''</span><span class="src-sym">)</span></li>
<li><a name="a991"></a>    <span class="src-sym">{</span></li>
<li><a name="a992"></a>        <span class="src-comm">//Send to browser</span></li>
<li><a name="a993"></a>        <a href="../FPDF/FPDF.html#methodHeader">Header</a><span class="src-sym">(</span><span class="src-str">'Content-Type: application/pdf'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a994"></a>        <span class="src-key">if</span><span class="src-sym">(</span><a href="http://www.php.net/headers_sent">headers_sent</a><span class="src-sym">(</span><span class="src-sym">))</span></li>
<li><a name="a995"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodError">Error</a><span class="src-sym">(</span><span class="src-str">'Some data has already been output to browser, can\'t send PDF file'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a996"></a>        <a href="../FPDF/FPDF.html#methodHeader">Header</a><span class="src-sym">(</span><span class="src-str">'Content-Length: '</span>.<a href="http://www.php.net/strlen">strlen</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$buffer">buffer</a><span class="src-sym">))</span><span class="src-sym">;</span></li>
<li><a name="a997"></a>        <a href="../FPDF/FPDF.html#methodHeader">Header</a><span class="src-sym">(</span><span class="src-str">'Content-disposition: inline; filename=doc.pdf'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a998"></a>        echo <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$buffer">buffer</a><span class="src-sym">;</span></li>
<li><a name="a999"></a>    <span class="src-sym">}</span></li>
<li><a name="a1000"></a>    <span class="src-key">else</span></li>
<li><a name="a1001"></a>    <span class="src-sym">{</span></li>
<li><a name="a1002"></a>        <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$download</span><span class="src-sym">)</span></li>
<li><a name="a1003"></a>        <span class="src-sym">{</span></li>
<li><a name="a1004"></a>            <span class="src-comm">//Download file</span></li>
<li><a name="a1005"></a>            <span class="src-key">if</span><span class="src-sym">(</span>isset<span class="src-sym">(</span><span class="src-var">$HTTP_ENV_VARS</span><span class="src-sym">[</span><span class="src-str">'HTTP_USER_AGENT'</span><span class="src-sym">]</span><span class="src-sym">) </span><span class="src-key">and </span><a href="http://www.php.net/strpos">strpos</a><span class="src-sym">(</span><span class="src-var">$HTTP_ENV_VARS</span><span class="src-sym">[</span><span class="src-str">'HTTP_USER_AGENT'</span><span class="src-sym">]</span><span class="src-sym">,</span><span class="src-str">'MSIE 5.5'</span><span class="src-sym">))</span></li>
<li><a name="a1006"></a>                <a href="../FPDF/FPDF.html#methodHeader">Header</a><span class="src-sym">(</span><span class="src-str">'Content-Type: application/dummy'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1007"></a>            <span class="src-key">else</span></li>
<li><a name="a1008"></a>                <a href="../FPDF/FPDF.html#methodHeader">Header</a><span class="src-sym">(</span><span class="src-str">'Content-Type: application/octet-stream'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1009"></a>            <span class="src-key">if</span><span class="src-sym">(</span><a href="http://www.php.net/headers_sent">headers_sent</a><span class="src-sym">(</span><span class="src-sym">))</span></li>
<li><a name="a1010"></a>                <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodError">Error</a><span class="src-sym">(</span><span class="src-str">'Some data has already been output to browser, can\'t send PDF file'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1011"></a>            <a href="../FPDF/FPDF.html#methodHeader">Header</a><span class="src-sym">(</span><span class="src-str">'Content-Length: '</span>.<a href="http://www.php.net/strlen">strlen</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$buffer">buffer</a><span class="src-sym">))</span><span class="src-sym">;</span></li>
<li><a name="a1012"></a>            <a href="../FPDF/FPDF.html#methodHeader">Header</a><span class="src-sym">(</span><span class="src-str">'Content-disposition: attachment; filename='</span>.<span class="src-var">$file</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1013"></a>            echo <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$buffer">buffer</a><span class="src-sym">;</span></li>
<li><a name="a1014"></a>        <span class="src-sym">}</span></li>
<li><a name="a1015"></a>        <span class="src-key">else</span></li>
<li><a name="a1016"></a>        <span class="src-sym">{</span></li>
<li><a name="a1017"></a>            <span class="src-comm">//Save file locally</span></li>
<li><a name="a1018"></a>            <span class="src-var">$f</span>=<a href="http://www.php.net/fopen">fopen</a><span class="src-sym">(</span><span class="src-var">$file</span><span class="src-sym">,</span><span class="src-str">'wb'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1019"></a>            <span class="src-key">if</span><span class="src-sym">(</span><span class="src-sym">!</span><span class="src-var">$f</span><span class="src-sym">)</span></li>
<li><a name="a1020"></a>                <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodError">Error</a><span class="src-sym">(</span><span class="src-str">'Unable to create output file: '</span>.<span class="src-var">$file</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1021"></a>            <a href="http://www.php.net/fwrite">fwrite</a><span class="src-sym">(</span><span class="src-var">$f</span><span class="src-sym">,</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$buffer">buffer</a><span class="src-sym">,</span><a href="http://www.php.net/strlen">strlen</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$buffer">buffer</a><span class="src-sym">))</span><span class="src-sym">;</span></li>
<li><a name="a1022"></a>            <a href="http://www.php.net/fclose">fclose</a><span class="src-sym">(</span><span class="src-var">$f</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1023"></a>        <span class="src-sym">}</span></li>
<li><a name="a1024"></a>    <span class="src-sym">}</span></li>
<li><a name="a1025"></a><span class="src-sym">}</span></li>
<li><a name="a1026"></a>&nbsp;</li>
<li><a name="a1027"></a><span class="src-doc">/**************************************************************************</span></li>
<li><a name="a1028"></a><span class="src-doc">*                                                                           *</span></li>
<li><a name="a1029"></a><span class="src-doc">*                              Private methods                              *</span></li>
<li><a name="a1030"></a><span class="src-doc">*                                                                           *</span></li>
<li><a name="a1031"></a><span class="src-doc">****************************************************************************/</span></li>
<li><a name="a1031"></a>&nbsp;</li>
<li><a name="a1032"></a><span class="src-key">function </span><span class="src-id">_begindoc</span><span class="src-sym">(</span><span class="src-sym">)</span></li>
<li><a name="a1033"></a><span class="src-sym">{</span></li>
<li><a name="a1034"></a>    <span class="src-comm">//Start document</span></li>
<li><a name="a1035"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$state">state</a>=<span class="src-num">1</span><span class="src-sym">;</span></li>
<li><a name="a1036"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'%PDF-1.3'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1037"></a><span class="src-sym">}</span></li>
<li><a name="a1038"></a>&nbsp;</li>
<li><a name="a1039"></a><span class="src-key">function </span><span class="src-id">_enddoc</span><span class="src-sym">(</span><span class="src-sym">)</span></li>
<li><a name="a1040"></a><span class="src-sym">{</span></li>
<li><a name="a1041"></a>    <span class="src-comm">//Terminate document</span></li>
<li><a name="a1042"></a>    <span class="src-var">$nb</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$page">page</a><span class="src-sym">;</span></li>
<li><a name="a1043"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-sym">!</span><span class="src-key">empty</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$AliasNbPages">AliasNbPages</a><span class="src-sym">))</span></li>
<li><a name="a1044"></a>    <span class="src-sym">{</span></li>
<li><a name="a1045"></a>        <span class="src-comm">//Replace number of pages</span></li>
<li><a name="a1046"></a>        <span class="src-key">for</span><span class="src-sym">(</span><span class="src-var">$n</span>=<span class="src-num">1</span><span class="src-sym">;</span><span class="src-var">$n</span>&lt;=<span class="src-var">$nb</span><span class="src-sym">;</span><span class="src-var">$n</span>++<span class="src-sym">)</span></li>
<li><a name="a1047"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$pages">pages</a><span class="src-sym">[</span><span class="src-var">$n</span><span class="src-sym">]</span>=<a href="http://www.php.net/str_replace">str_replace</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$AliasNbPages">AliasNbPages</a><span class="src-sym">,</span><span class="src-var">$nb</span><span class="src-sym">,</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$pages">pages</a><span class="src-sym">[</span><span class="src-var">$n</span><span class="src-sym">]</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1048"></a>    <span class="src-sym">}</span></li>
<li><a name="a1049"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$DefOrientation">DefOrientation</a>==<span class="src-str">'P'</span><span class="src-sym">)</span></li>
<li><a name="a1050"></a>    <span class="src-sym">{</span></li>
<li><a name="a1051"></a>        <span class="src-var">$wPt</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$fwPt">fwPt</a><span class="src-sym">;</span></li>
<li><a name="a1052"></a>        <span class="src-var">$hPt</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$fhPt">fhPt</a><span class="src-sym">;</span></li>
<li><a name="a1053"></a>    <span class="src-sym">}</span></li>
<li><a name="a1054"></a>    <span class="src-key">else</span></li>
<li><a name="a1055"></a>    <span class="src-sym">{</span></li>
<li><a name="a1056"></a>        <span class="src-var">$wPt</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$fhPt">fhPt</a><span class="src-sym">;</span></li>
<li><a name="a1057"></a>        <span class="src-var">$hPt</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$fwPt">fwPt</a><span class="src-sym">;</span></li>
<li><a name="a1058"></a>    <span class="src-sym">}</span></li>
<li><a name="a1059"></a>    <span class="src-var">$filter</span>=<span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$compress">compress</a><span class="src-sym">) </span>? <span class="src-str">'/Filter /FlateDecode ' </span>: <span class="src-str">''</span><span class="src-sym">;</span></li>
<li><a name="a1060"></a>    <span class="src-key">for</span><span class="src-sym">(</span><span class="src-var">$n</span>=<span class="src-num">1</span><span class="src-sym">;</span><span class="src-var">$n</span>&lt;=<span class="src-var">$nb</span><span class="src-sym">;</span><span class="src-var">$n</span>++<span class="src-sym">)</span></li>
<li><a name="a1061"></a>    <span class="src-sym">{</span></li>
<li><a name="a1062"></a>        <span class="src-comm">//Page</span></li>
<li><a name="a1063"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_newobj</span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1064"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'&lt;&lt;/Type /Page'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1065"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/Parent 1 0 R'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1066"></a>        <span class="src-key">if</span><span class="src-sym">(</span>isset<span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$OrientationChanges">OrientationChanges</a><span class="src-sym">[</span><span class="src-var">$n</span><span class="src-sym">]</span><span class="src-sym">))</span></li>
<li><a name="a1067"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/MediaBox [0 0 '</span>.<span class="src-var">$hPt</span>.<span class="src-str">' '</span>.<span class="src-var">$wPt</span>.<span class="src-str">']'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1068"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/Resources 2 0 R'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1069"></a>        <span class="src-key">if</span><span class="src-sym">(</span>isset<span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$PageLinks">PageLinks</a><span class="src-sym">[</span><span class="src-var">$n</span><span class="src-sym">]</span><span class="src-sym">))</span></li>
<li><a name="a1070"></a>        <span class="src-sym">{</span></li>
<li><a name="a1071"></a>            <span class="src-var">$annots</span>=<span class="src-str">'/Annots ['</span><span class="src-sym">;</span></li>
<li><a name="a1072"></a>            <span class="src-key">foreach</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$PageLinks">PageLinks</a><span class="src-sym">[</span><span class="src-var">$n</span><span class="src-sym">] </span><span class="src-key">as </span><span class="src-var">$pl</span><span class="src-sym">)</span></li>
<li><a name="a1073"></a>            <span class="src-sym">{</span></li>
<li><a name="a1074"></a>                <span class="src-var">$rect</span>=<a href="http://www.php.net/round">round</a><span class="src-sym">(</span><span class="src-var">$pl</span><span class="src-sym">[</span><span class="src-num">0</span><span class="src-sym">]</span><span class="src-sym">,</span><span class="src-num">2</span><span class="src-sym">)</span>.<span class="src-str">' '</span>.<a href="http://www.php.net/round">round</a><span class="src-sym">(</span><span class="src-var">$pl</span><span class="src-sym">[</span><span class="src-num">1</span><span class="src-sym">]</span><span class="src-sym">,</span><span class="src-num">2</span><span class="src-sym">)</span>.<span class="src-str">' '</span>.<a href="http://www.php.net/round">round</a><span class="src-sym">(</span><span class="src-var">$pl</span><span class="src-sym">[</span><span class="src-num">0</span><span class="src-sym">]</span>+<span class="src-var">$pl</span><span class="src-sym">[</span><span class="src-num">2</span><span class="src-sym">]</span><span class="src-sym">,</span><span class="src-num">2</span><span class="src-sym">)</span>.<span class="src-str">' '</span>.<a href="http://www.php.net/round">round</a><span class="src-sym">(</span><span class="src-var">$pl</span><span class="src-sym">[</span><span class="src-num">1</span><span class="src-sym">]</span>-<span class="src-var">$pl</span><span class="src-sym">[</span><span class="src-num">3</span><span class="src-sym">]</span><span class="src-sym">,</span><span class="src-num">2</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1075"></a>                <span class="src-var">$annots</span>.=<span class="src-str">'&lt;&lt;/Type /Annot /Subtype /Link /Rect ['</span>.<span class="src-var">$rect</span>.<span class="src-str">'] /Border [0 0 0] '</span><span class="src-sym">;</span></li>
<li><a name="a1076"></a>                <span class="src-key">if</span><span class="src-sym">(</span><a href="http://www.php.net/is_string">is_string</a><span class="src-sym">(</span><span class="src-var">$pl</span><span class="src-sym">[</span><span class="src-num">4</span><span class="src-sym">]</span><span class="src-sym">))</span></li>
<li><a name="a1077"></a>                    <span class="src-var">$annots</span>.=<span class="src-str">'/A &lt;&lt;/S /URI /URI ('</span>.<span class="src-var">$pl</span><span class="src-sym">[</span><span class="src-num">4</span><span class="src-sym">]</span>.<span class="src-str">')&gt;&gt;&gt;&gt;'</span><span class="src-sym">;</span></li>
<li><a name="a1078"></a>                <span class="src-key">else</span></li>
<li><a name="a1079"></a>                <span class="src-sym">{</span></li>
<li><a name="a1080"></a>                    <span class="src-var">$l</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$links">links</a><span class="src-sym">[</span><span class="src-var">$pl</span><span class="src-sym">[</span><span class="src-num">4</span><span class="src-sym">]]</span><span class="src-sym">;</span></li>
<li><a name="a1081"></a>                    <span class="src-var">$annots</span>.=<span class="src-str">'/Dest ['</span>.<span class="src-sym">(</span><span class="src-num">1</span>+<span class="src-num">2</span>*<span class="src-var">$l</span><span class="src-sym">[</span><span class="src-num">0</span><span class="src-sym">]</span><span class="src-sym">)</span>.<span class="src-str">' 0 R /XYZ 0 '</span>.<span class="src-var">$l</span><span class="src-sym">[</span><span class="src-num">1</span><span class="src-sym">]</span>.<span class="src-str">' null]&gt;&gt;'</span><span class="src-sym">;</span></li>
<li><a name="a1082"></a>                <span class="src-sym">}</span></li>
<li><a name="a1083"></a>            <span class="src-sym">}</span></li>
<li><a name="a1084"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-var">$annots</span>.<span class="src-str">']'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1085"></a>        <span class="src-sym">}</span></li>
<li><a name="a1086"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/Contents '</span>.<span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$n">n</a>+<span class="src-num">1</span><span class="src-sym">)</span>.<span class="src-str">' 0 R&gt;&gt;'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1087"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'endobj'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1088"></a>        <span class="src-comm">//Page content</span></li>
<li><a name="a1089"></a>        <span class="src-var">$p</span>=<span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$compress">compress</a><span class="src-sym">) </span>? <a href="http://www.php.net/gzcompress">gzcompress</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$pages">pages</a><span class="src-sym">[</span><span class="src-var">$n</span><span class="src-sym">]</span><span class="src-sym">) </span>: <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$pages">pages</a><span class="src-sym">[</span><span class="src-var">$n</span><span class="src-sym">]</span><span class="src-sym">;</span></li>
<li><a name="a1090"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_newobj</span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1091"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'&lt;&lt;'</span>.<span class="src-var">$filter</span>.<span class="src-str">'/Length '</span>.<a href="http://www.php.net/strlen">strlen</a><span class="src-sym">(</span><span class="src-var">$p</span><span class="src-sym">)</span>.<span class="src-str">'&gt;&gt;'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1092"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'stream'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1093"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-var">$p</span>.<span class="src-str">'endstream'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1094"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'endobj'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1095"></a>    <span class="src-sym">}</span></li>
<li><a name="a1096"></a>    <span class="src-comm">//Fonts</span></li>
<li><a name="a1097"></a>    <span class="src-var">$nf</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$n">n</a><span class="src-sym">;</span></li>
<li><a name="a1098"></a>    <span class="src-key">foreach</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$diffs">diffs</a> <span class="src-key">as </span><span class="src-var">$diff</span><span class="src-sym">)</span></li>
<li><a name="a1099"></a>    <span class="src-sym">{</span></li>
<li><a name="a1100"></a>        <span class="src-comm">//Encodings</span></li>
<li><a name="a1101"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_newobj</span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1102"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'&lt;&lt;/Type /Encoding /BaseEncoding /WinAnsiEncoding /Differences ['</span>.<span class="src-var">$diff</span>.<span class="src-str">']&gt;&gt;'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1103"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'endobj'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1104"></a>    <span class="src-sym">}</span></li>
<li><a name="a1105"></a>    <span class="src-key">foreach</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontFiles">FontFiles</a> <span class="src-key">as </span><span class="src-var">$file</span>=&gt;<span class="src-var">$info</span><span class="src-sym">)</span></li>
<li><a name="a1106"></a>    <span class="src-sym">{</span></li>
<li><a name="a1107"></a>        <span class="src-comm">//Font file embedding</span></li>
<li><a name="a1108"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_newobj</span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1109"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontFiles">FontFiles</a><span class="src-sym">[</span><span class="src-var">$file</span><span class="src-sym">]</span><span class="src-sym">[</span><span class="src-str">'n'</span><span class="src-sym">]</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$n">n</a><span class="src-sym">;</span></li>
<li><a name="a1110"></a>        <span class="src-key">if</span><span class="src-sym">(</span><a href="http://www.php.net/defined">defined</a><span class="src-sym">(</span><span class="src-str">'FPDF_FONTPATH'</span><span class="src-sym">))</span></li>
<li><a name="a1111"></a>            <span class="src-var">$file</span>=<span class="src-id"><a href="../default/_fpdf_example_ex_php.html#defineFPDF_FONTPATH">FPDF_FONTPATH</a></span>.<span class="src-var">$file</span><span class="src-sym">;</span></li>
<li><a name="a1112"></a>        <span class="src-var">$size</span>=<a href="http://www.php.net/filesize">filesize</a><span class="src-sym">(</span><span class="src-var">$file</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1113"></a>        <span class="src-key">if</span><span class="src-sym">(</span><span class="src-sym">!</span><span class="src-var">$size</span><span class="src-sym">)</span></li>
<li><a name="a1114"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodError">Error</a><span class="src-sym">(</span><span class="src-str">'Font file not found'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1115"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'&lt;&lt;/Length '</span>.<span class="src-var">$size</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1116"></a>        <span class="src-key">if</span><span class="src-sym">(</span><a href="http://www.php.net/substr">substr</a><span class="src-sym">(</span><span class="src-var">$file</span><span class="src-sym">,</span>-<span class="src-num">2</span><span class="src-sym">)</span>==<span class="src-str">'.z'</span><span class="src-sym">)</span></li>
<li><a name="a1117"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/Filter /FlateDecode'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1118"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/Length1 '</span>.<span class="src-var">$info</span><span class="src-sym">[</span><span class="src-str">'originalsize'</span><span class="src-sym">]</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1119"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'&gt;&gt;'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1120"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'stream'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1121"></a>        <span class="src-var">$f</span>=<a href="http://www.php.net/fopen">fopen</a><span class="src-sym">(</span><span class="src-var">$file</span><span class="src-sym">,</span><span class="src-str">'rb'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1122"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><a href="http://www.php.net/fread">fread</a><span class="src-sym">(</span><span class="src-var">$f</span><span class="src-sym">,</span><span class="src-var">$size</span><span class="src-sym">))</span><span class="src-sym">;</span></li>
<li><a name="a1123"></a>        <a href="http://www.php.net/fclose">fclose</a><span class="src-sym">(</span><span class="src-var">$f</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1124"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'endstream'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1125"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'endobj'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1126"></a>    <span class="src-sym">}</span></li>
<li><a name="a1127"></a>    <span class="src-key">foreach</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$fonts">fonts</a> <span class="src-key">as </span><span class="src-var">$k</span>=&gt;<span class="src-var">$font</span><span class="src-sym">)</span></li>
<li><a name="a1128"></a>    <span class="src-sym">{</span></li>
<li><a name="a1129"></a>        <span class="src-comm">//Font objects</span></li>
<li><a name="a1130"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_newobj</span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1131"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$fonts">fonts</a><span class="src-sym">[</span><span class="src-var">$k</span><span class="src-sym">]</span><span class="src-sym">[</span><span class="src-str">'n'</span><span class="src-sym">]</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$n">n</a><span class="src-sym">;</span></li>
<li><a name="a1132"></a>        <span class="src-var">$name</span>=<span class="src-var">$font</span><span class="src-sym">[</span><span class="src-str">'name'</span><span class="src-sym">]</span><span class="src-sym">;</span></li>
<li><a name="a1133"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'&lt;&lt;/Type /Font'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1134"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/BaseFont /'</span>.<span class="src-var">$name</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1135"></a>        <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$font</span><span class="src-sym">[</span><span class="src-str">'type'</span><span class="src-sym">]</span>==<span class="src-str">'core'</span><span class="src-sym">)</span></li>
<li><a name="a1136"></a>        <span class="src-sym">{</span></li>
<li><a name="a1137"></a>            <span class="src-comm">//Standard font</span></li>
<li><a name="a1138"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/Subtype /Type1'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1139"></a>            <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$name</span>!=<span class="src-str">'Symbol' </span><span class="src-key">and </span><span class="src-var">$name</span>!=<span class="src-str">'ZapfDingbats'</span><span class="src-sym">)</span></li>
<li><a name="a1140"></a>                <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/Encoding /WinAnsiEncoding'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1141"></a>        <span class="src-sym">}</span></li>
<li><a name="a1142"></a>        <span class="src-key">else</span></li>
<li><a name="a1143"></a>        <span class="src-sym">{</span></li>
<li><a name="a1144"></a>            <span class="src-comm">//TrueType</span></li>
<li><a name="a1145"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/Subtype /TrueType'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1146"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/FirstChar 32'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1147"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/LastChar 255'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1148"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/Widths '</span>.<span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$n">n</a>+<span class="src-num">1</span><span class="src-sym">)</span>.<span class="src-str">' 0 R'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1149"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/FontDescriptor '</span>.<span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$n">n</a>+<span class="src-num">2</span><span class="src-sym">)</span>.<span class="src-str">' 0 R'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1150"></a>            <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$font</span><span class="src-sym">[</span><span class="src-str">'enc'</span><span class="src-sym">]</span><span class="src-sym">)</span></li>
<li><a name="a1151"></a>            <span class="src-sym">{</span></li>
<li><a name="a1152"></a>                <span class="src-key">if</span><span class="src-sym">(</span>isset<span class="src-sym">(</span><span class="src-var">$font</span><span class="src-sym">[</span><span class="src-str">'diff'</span><span class="src-sym">]</span><span class="src-sym">))</span></li>
<li><a name="a1153"></a>                    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/Encoding '</span>.<span class="src-sym">(</span><span class="src-var">$nf</span>+<span class="src-var">$font</span><span class="src-sym">[</span><span class="src-str">'diff'</span><span class="src-sym">]</span><span class="src-sym">)</span>.<span class="src-str">' 0 R'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1154"></a>                <span class="src-key">else</span></li>
<li><a name="a1155"></a>                    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/Encoding /WinAnsiEncoding'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1156"></a>            <span class="src-sym">}</span></li>
<li><a name="a1157"></a>        <span class="src-sym">}</span></li>
<li><a name="a1158"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'&gt;&gt;'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1159"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'endobj'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1160"></a>        <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$font</span><span class="src-sym">[</span><span class="src-str">'type'</span><span class="src-sym">]</span>!=<span class="src-str">'core'</span><span class="src-sym">)</span></li>
<li><a name="a1161"></a>        <span class="src-sym">{</span></li>
<li><a name="a1162"></a>            <span class="src-comm">//Widths</span></li>
<li><a name="a1163"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_newobj</span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1164"></a>            <span class="src-var">$cw</span>=<span class="src-sym">&amp;</span><span class="src-var">$font</span><span class="src-sym">[</span><span class="src-str">'cw'</span><span class="src-sym">]</span><span class="src-sym">;</span></li>
<li><a name="a1165"></a>            <span class="src-var">$s</span>=<span class="src-str">'['</span><span class="src-sym">;</span></li>
<li><a name="a1166"></a>            <span class="src-key">for</span><span class="src-sym">(</span><span class="src-var">$i</span>=<span class="src-num">32</span><span class="src-sym">;</span><span class="src-var">$i</span>&lt;=<span class="src-num">255</span><span class="src-sym">;</span><span class="src-var">$i</span>++<span class="src-sym">)</span></li>
<li><a name="a1167"></a>                <span class="src-var">$s</span>.=<span class="src-var">$cw</span><span class="src-sym">[</span><a href="http://www.php.net/chr">chr</a><span class="src-sym">(</span><span class="src-var">$i</span><span class="src-sym">)</span><span class="src-sym">]</span>.<span class="src-str">' '</span><span class="src-sym">;</span></li>
<li><a name="a1168"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-var">$s</span>.<span class="src-str">']'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1169"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'endobj'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1170"></a>            <span class="src-comm">//Descriptor</span></li>
<li><a name="a1171"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_newobj</span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1172"></a>            <span class="src-var">$s</span>=<span class="src-str">'&lt;&lt;/Type /FontDescriptor /FontName /'</span>.<span class="src-var">$name</span><span class="src-sym">;</span></li>
<li><a name="a1173"></a>            <span class="src-key">foreach</span><span class="src-sym">(</span><span class="src-var">$font</span><span class="src-sym">[</span><span class="src-str">'desc'</span><span class="src-sym">] </span><span class="src-key">as </span><span class="src-var">$k</span>=&gt;<span class="src-var">$v</span><span class="src-sym">)</span></li>
<li><a name="a1174"></a>                <span class="src-var">$s</span>.=<span class="src-str">' /'</span>.<span class="src-var">$k</span>.<span class="src-str">' '</span>.<span class="src-var">$v</span><span class="src-sym">;</span></li>
<li><a name="a1175"></a>            <span class="src-var">$file</span>=<span class="src-var">$font</span><span class="src-sym">[</span><span class="src-str">'file'</span><span class="src-sym">]</span><span class="src-sym">;</span></li>
<li><a name="a1176"></a>            <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$file</span><span class="src-sym">)</span></li>
<li><a name="a1177"></a>                <span class="src-var">$s</span>.=<span class="src-str">' /FontFile2 '</span>.<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontFiles">FontFiles</a><span class="src-sym">[</span><span class="src-var">$file</span><span class="src-sym">]</span><span class="src-sym">[</span><span class="src-str">'n'</span><span class="src-sym">]</span>.<span class="src-str">' 0 R'</span><span class="src-sym">;</span></li>
<li><a name="a1178"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-var">$s</span>.<span class="src-str">'&gt;&gt;'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1179"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'endobj'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1180"></a>        <span class="src-sym">}</span></li>
<li><a name="a1181"></a>    <span class="src-sym">}</span></li>
<li><a name="a1182"></a>    <span class="src-comm">//Images</span></li>
<li><a name="a1183"></a>    <span class="src-var">$ni</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$n">n</a><span class="src-sym">;</span></li>
<li><a name="a1184"></a>    <a href="http://www.php.net/reset">reset</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$images">images</a><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1185"></a>    <span class="src-key">while</span><span class="src-sym">(</span>list<span class="src-sym">(</span><span class="src-var">$file</span><span class="src-sym">,</span><span class="src-var">$info</span><span class="src-sym">)</span>=<a href="http://www.php.net/each">each</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$images">images</a><span class="src-sym">))</span></li>
<li><a name="a1186"></a>    <span class="src-sym">{</span></li>
<li><a name="a1187"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_newobj</span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1188"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'&lt;&lt;/Type /XObject'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1189"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/Subtype /Image'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1190"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/Width '</span>.<span class="src-var">$info</span><span class="src-sym">[</span><span class="src-str">'w'</span><span class="src-sym">]</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1191"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/Height '</span>.<span class="src-var">$info</span><span class="src-sym">[</span><span class="src-str">'h'</span><span class="src-sym">]</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1192"></a>        <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$info</span><span class="src-sym">[</span><span class="src-str">'cs'</span><span class="src-sym">]</span>==<span class="src-str">'Indexed'</span><span class="src-sym">)</span></li>
<li><a name="a1193"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/ColorSpace [/Indexed /DeviceRGB '</span>.<span class="src-sym">(</span><a href="http://www.php.net/strlen">strlen</a><span class="src-sym">(</span><span class="src-var">$info</span><span class="src-sym">[</span><span class="src-str">'pal'</span><span class="src-sym">]</span><span class="src-sym">)</span>/<span class="src-num">3</span>-<span class="src-num">1</span><span class="src-sym">)</span>.<span class="src-str">' '</span>.<span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$n">n</a>+<span class="src-num">1</span><span class="src-sym">)</span>.<span class="src-str">' 0 R]'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1194"></a>        <span class="src-key">else</span></li>
<li><a name="a1195"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/ColorSpace /'</span>.<span class="src-var">$info</span><span class="src-sym">[</span><span class="src-str">'cs'</span><span class="src-sym">]</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1196"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/BitsPerComponent '</span>.<span class="src-var">$info</span><span class="src-sym">[</span><span class="src-str">'bpc'</span><span class="src-sym">]</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1197"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/Filter /'</span>.<span class="src-var">$info</span><span class="src-sym">[</span><span class="src-str">'f'</span><span class="src-sym">]</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1198"></a>        <span class="src-key">if</span><span class="src-sym">(</span>isset<span class="src-sym">(</span><span class="src-var">$info</span><span class="src-sym">[</span><span class="src-str">'parms'</span><span class="src-sym">]</span><span class="src-sym">))</span></li>
<li><a name="a1199"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-var">$info</span><span class="src-sym">[</span><span class="src-str">'parms'</span><span class="src-sym">]</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1200"></a>        <span class="src-key">if</span><span class="src-sym">(</span>isset<span class="src-sym">(</span><span class="src-var">$info</span><span class="src-sym">[</span><span class="src-str">'trns'</span><span class="src-sym">]</span><span class="src-sym">) </span><span class="src-key">and </span><a href="http://www.php.net/is_array">is_array</a><span class="src-sym">(</span><span class="src-var">$info</span><span class="src-sym">[</span><span class="src-str">'trns'</span><span class="src-sym">]</span><span class="src-sym">))</span></li>
<li><a name="a1201"></a>        <span class="src-sym">{</span></li>
<li><a name="a1202"></a>            <span class="src-var">$trns</span>=<span class="src-str">''</span><span class="src-sym">;</span></li>
<li><a name="a1203"></a>            <span class="src-key">for</span><span class="src-sym">(</span><span class="src-var">$i</span>=<span class="src-num">0</span><span class="src-sym">;</span><span class="src-var">$i</span>&lt;<a href="http://www.php.net/count">count</a><span class="src-sym">(</span><span class="src-var">$info</span><span class="src-sym">[</span><span class="src-str">'trns'</span><span class="src-sym">]</span><span class="src-sym">)</span><span class="src-sym">;</span><span class="src-var">$i</span>++<span class="src-sym">)</span></li>
<li><a name="a1204"></a>                <span class="src-var">$trns</span>.=<span class="src-var">$info</span><span class="src-sym">[</span><span class="src-str">'trns'</span><span class="src-sym">]</span><span class="src-sym">[</span><span class="src-var">$i</span><span class="src-sym">]</span>.<span class="src-str">' '</span>.<span class="src-var">$info</span><span class="src-sym">[</span><span class="src-str">'trns'</span><span class="src-sym">]</span><span class="src-sym">[</span><span class="src-var">$i</span><span class="src-sym">]</span>.<span class="src-str">' '</span><span class="src-sym">;</span></li>
<li><a name="a1205"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/Mask ['</span>.<span class="src-var">$trns</span>.<span class="src-str">']'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1206"></a>        <span class="src-sym">}</span></li>
<li><a name="a1207"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/Length '</span>.<a href="http://www.php.net/strlen">strlen</a><span class="src-sym">(</span><span class="src-var">$info</span><span class="src-sym">[</span><span class="src-str">'data'</span><span class="src-sym">]</span><span class="src-sym">)</span>.<span class="src-str">'&gt;&gt;'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1208"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'stream'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1209"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-var">$info</span><span class="src-sym">[</span><span class="src-str">'data'</span><span class="src-sym">]</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1210"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'endstream'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1211"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'endobj'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1212"></a>        <span class="src-comm">//Palette</span></li>
<li><a name="a1213"></a>        <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$info</span><span class="src-sym">[</span><span class="src-str">'cs'</span><span class="src-sym">]</span>==<span class="src-str">'Indexed'</span><span class="src-sym">)</span></li>
<li><a name="a1214"></a>        <span class="src-sym">{</span></li>
<li><a name="a1215"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_newobj</span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1216"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'&lt;&lt;/Length '</span>.<a href="http://www.php.net/strlen">strlen</a><span class="src-sym">(</span><span class="src-var">$info</span><span class="src-sym">[</span><span class="src-str">'pal'</span><span class="src-sym">]</span><span class="src-sym">)</span>.<span class="src-str">'&gt;&gt;'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1217"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'stream'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1218"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-var">$info</span><span class="src-sym">[</span><span class="src-str">'pal'</span><span class="src-sym">]</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1219"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'endstream'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1220"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'endobj'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1221"></a>        <span class="src-sym">}</span></li>
<li><a name="a1222"></a>    <span class="src-sym">}</span></li>
<li><a name="a1223"></a>    <span class="src-comm">//Pages root</span></li>
<li><a name="a1224"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$offsets">offsets</a><span class="src-sym">[</span><span class="src-num">1</span><span class="src-sym">]</span>=<a href="http://www.php.net/strlen">strlen</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$buffer">buffer</a><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1225"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'1 0 obj'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1226"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'&lt;&lt;/Type /Pages'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1227"></a>    <span class="src-var">$kids</span>=<span class="src-str">'/Kids ['</span><span class="src-sym">;</span></li>
<li><a name="a1228"></a>    <span class="src-key">for</span><span class="src-sym">(</span><span class="src-var">$i</span>=<span class="src-num">0</span><span class="src-sym">;</span><span class="src-var">$i</span>&lt;<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$page">page</a><span class="src-sym">;</span><span class="src-var">$i</span>++<span class="src-sym">)</span></li>
<li><a name="a1229"></a>        <span class="src-var">$kids</span>.=<span class="src-sym">(</span><span class="src-num">3</span>+<span class="src-num">2</span>*<span class="src-var">$i</span><span class="src-sym">)</span>.<span class="src-str">' 0 R '</span><span class="src-sym">;</span></li>
<li><a name="a1230"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-var">$kids</span>.<span class="src-str">']'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1231"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/Count '</span>.<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$page">page</a><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1232"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/MediaBox [0 0 '</span>.<span class="src-var">$wPt</span>.<span class="src-str">' '</span>.<span class="src-var">$hPt</span>.<span class="src-str">']'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1233"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'&gt;&gt;'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1234"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'endobj'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1235"></a>    <span class="src-comm">//Resources</span></li>
<li><a name="a1236"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$offsets">offsets</a><span class="src-sym">[</span><span class="src-num">2</span><span class="src-sym">]</span>=<a href="http://www.php.net/strlen">strlen</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$buffer">buffer</a><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1237"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'2 0 obj'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1238"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'&lt;&lt;/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1239"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/Font &lt;&lt;'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1240"></a>    <span class="src-key">foreach</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$fonts">fonts</a> <span class="src-key">as </span><span class="src-var">$font</span><span class="src-sym">)</span></li>
<li><a name="a1241"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/F'</span>.<span class="src-var">$font</span><span class="src-sym">[</span><span class="src-str">'i'</span><span class="src-sym">]</span>.<span class="src-str">' '</span>.<span class="src-var">$font</span><span class="src-sym">[</span><span class="src-str">'n'</span><span class="src-sym">]</span>.<span class="src-str">' 0 R'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1242"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'&gt;&gt;'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1243"></a>    <span class="src-key">if</span><span class="src-sym">(</span><a href="http://www.php.net/count">count</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$images">images</a><span class="src-sym">))</span></li>
<li><a name="a1244"></a>    <span class="src-sym">{</span></li>
<li><a name="a1245"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/XObject &lt;&lt;'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1246"></a>        <span class="src-var">$nbpal</span>=<span class="src-num">0</span><span class="src-sym">;</span></li>
<li><a name="a1247"></a>        <a href="http://www.php.net/reset">reset</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$images">images</a><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1248"></a>        <span class="src-key">while</span><span class="src-sym">(</span>list<span class="src-sym">(</span><span class="src-sym">,</span><span class="src-var">$info</span><span class="src-sym">)</span>=<a href="http://www.php.net/each">each</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$images">images</a><span class="src-sym">))</span></li>
<li><a name="a1249"></a>        <span class="src-sym">{</span></li>
<li><a name="a1250"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/I'</span>.<span class="src-var">$info</span><span class="src-sym">[</span><span class="src-str">'n'</span><span class="src-sym">]</span>.<span class="src-str">' '</span>.<span class="src-sym">(</span><span class="src-var">$ni</span>+<span class="src-var">$info</span><span class="src-sym">[</span><span class="src-str">'n'</span><span class="src-sym">]</span>+<span class="src-var">$nbpal</span><span class="src-sym">)</span>.<span class="src-str">' 0 R'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1251"></a>            <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$info</span><span class="src-sym">[</span><span class="src-str">'cs'</span><span class="src-sym">]</span>==<span class="src-str">'Indexed'</span><span class="src-sym">)</span></li>
<li><a name="a1252"></a>                <span class="src-var">$nbpal</span>++<span class="src-sym">;</span></li>
<li><a name="a1253"></a>        <span class="src-sym">}</span></li>
<li><a name="a1254"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'&gt;&gt;'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1255"></a>    <span class="src-sym">}</span></li>
<li><a name="a1256"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'&gt;&gt;'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1257"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'endobj'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1258"></a>    <span class="src-comm">//Info</span></li>
<li><a name="a1259"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_newobj</span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1260"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'&lt;&lt;/Producer (FPDF '</span>.<span class="src-id"><a href="../FPDF/_fpdf_fpdf_php.html#defineFPDF_VERSION">FPDF_VERSION</a></span>.<span class="src-str">')'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1261"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-sym">!</span><span class="src-key">empty</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$title">title</a><span class="src-sym">))</span></li>
<li><a name="a1262"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/Title ('</span>.<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_escape</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$title">title</a><span class="src-sym">)</span>.<span class="src-str">')'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1263"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-sym">!</span><span class="src-key">empty</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$subject">subject</a><span class="src-sym">))</span></li>
<li><a name="a1264"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/Subject ('</span>.<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_escape</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$subject">subject</a><span class="src-sym">)</span>.<span class="src-str">')'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1265"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-sym">!</span><span class="src-key">empty</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$author">author</a><span class="src-sym">))</span></li>
<li><a name="a1266"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/Author ('</span>.<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_escape</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$author">author</a><span class="src-sym">)</span>.<span class="src-str">')'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1267"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-sym">!</span><span class="src-key">empty</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$keywords">keywords</a><span class="src-sym">))</span></li>
<li><a name="a1268"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/Keywords ('</span>.<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_escape</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$keywords">keywords</a><span class="src-sym">)</span>.<span class="src-str">')'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1269"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-sym">!</span><span class="src-key">empty</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$creator">creator</a><span class="src-sym">))</span></li>
<li><a name="a1270"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/Creator ('</span>.<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_escape</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$creator">creator</a><span class="src-sym">)</span>.<span class="src-str">')'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1271"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/CreationDate (D:'</span>.<a href="http://www.php.net/date">date</a><span class="src-sym">(</span><span class="src-str">'YmdHis'</span><span class="src-sym">)</span>.<span class="src-str">')&gt;&gt;'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1272"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'endobj'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1273"></a>    <span class="src-comm">//Catalog</span></li>
<li><a name="a1274"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_newobj</span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1275"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'&lt;&lt;/Type /Catalog'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1276"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$ZoomMode">ZoomMode</a>==<span class="src-str">'fullpage'</span><span class="src-sym">)</span></li>
<li><a name="a1277"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/OpenAction [3 0 R /Fit]'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1278"></a>    <span class="src-key">elseif</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$ZoomMode">ZoomMode</a>==<span class="src-str">'fullwidth'</span><span class="src-sym">)</span></li>
<li><a name="a1279"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/OpenAction [3 0 R /FitH null]'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1280"></a>    <span class="src-key">elseif</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$ZoomMode">ZoomMode</a>==<span class="src-str">'real'</span><span class="src-sym">)</span></li>
<li><a name="a1281"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/OpenAction [3 0 R /XYZ null null 1]'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1282"></a>    <span class="src-key">elseif</span><span class="src-sym">(</span><span class="src-sym">!</span><a href="http://www.php.net/is_string">is_string</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$ZoomMode">ZoomMode</a><span class="src-sym">))</span></li>
<li><a name="a1283"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/OpenAction [3 0 R /XYZ null null '</span>.<span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$ZoomMode">ZoomMode</a>/<span class="src-num">100</span><span class="src-sym">)</span>.<span class="src-str">']'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1284"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$LayoutMode">LayoutMode</a>==<span class="src-str">'single'</span><span class="src-sym">)</span></li>
<li><a name="a1285"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/PageLayout /SinglePage'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1286"></a>    <span class="src-key">elseif</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$LayoutMode">LayoutMode</a>==<span class="src-str">'continuous'</span><span class="src-sym">)</span></li>
<li><a name="a1287"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/PageLayout /OneColumn'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1288"></a>    <span class="src-key">elseif</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$LayoutMode">LayoutMode</a>==<span class="src-str">'two'</span><span class="src-sym">)</span></li>
<li><a name="a1289"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/PageLayout /TwoColumnLeft'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1290"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/Pages 1 0 R&gt;&gt;'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1291"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'endobj'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1292"></a>    <span class="src-comm">//Cross-ref</span></li>
<li><a name="a1293"></a>    <span class="src-var">$o</span>=<a href="http://www.php.net/strlen">strlen</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$buffer">buffer</a><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1294"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'xref'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1295"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'0 '</span>.<span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$n">n</a>+<span class="src-num">1</span><span class="src-sym">))</span><span class="src-sym">;</span></li>
<li><a name="a1296"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'0000000000 65535 f '</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1297"></a>    <span class="src-key">for</span><span class="src-sym">(</span><span class="src-var">$i</span>=<span class="src-num">1</span><span class="src-sym">;</span><span class="src-var">$i</span>&lt;=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$n">n</a><span class="src-sym">;</span><span class="src-var">$i</span>++<span class="src-sym">)</span></li>
<li><a name="a1298"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><a href="http://www.php.net/sprintf">sprintf</a><span class="src-sym">(</span><span class="src-str">'%010d 00000 n '</span><span class="src-sym">,</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$offsets">offsets</a><span class="src-sym">[</span><span class="src-var">$i</span><span class="src-sym">]</span><span class="src-sym">))</span><span class="src-sym">;</span></li>
<li><a name="a1299"></a>    <span class="src-comm">//Trailer</span></li>
<li><a name="a1300"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'trailer'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1301"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'&lt;&lt;/Size '</span>.<span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$n">n</a>+<span class="src-num">1</span><span class="src-sym">))</span><span class="src-sym">;</span></li>
<li><a name="a1302"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/Root '</span>.<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$n">n</a>.<span class="src-str">' 0 R'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1303"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'/Info '</span>.<span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$n">n</a>-<span class="src-num">1</span><span class="src-sym">)</span>.<span class="src-str">' 0 R&gt;&gt;'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1304"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'startxref'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1305"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-var">$o</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1306"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-str">'%%EOF'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1307"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$state">state</a>=<span class="src-num">3</span><span class="src-sym">;</span></li>
<li><a name="a1308"></a><span class="src-sym">}</span></li>
<li><a name="a1309"></a>&nbsp;</li>
<li><a name="a1310"></a><span class="src-key">function </span><span class="src-id">_beginpage</span><span class="src-sym">(</span><span class="src-var">$orientation</span><span class="src-sym">)</span></li>
<li><a name="a1311"></a><span class="src-sym">{</span></li>
<li><a name="a1312"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$page">page</a>++<span class="src-sym">;</span></li>
<li><a name="a1313"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$pages">pages</a><span class="src-sym">[</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$page">page</a><span class="src-sym">]</span>=<span class="src-str">''</span><span class="src-sym">;</span></li>
<li><a name="a1314"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$state">state</a>=<span class="src-num">2</span><span class="src-sym">;</span></li>
<li><a name="a1315"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$x">x</a>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$lMargin">lMargin</a><span class="src-sym">;</span></li>
<li><a name="a1316"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$y">y</a>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$tMargin">tMargin</a><span class="src-sym">;</span></li>
<li><a name="a1317"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$lasth">lasth</a>=<span class="src-num">0</span><span class="src-sym">;</span></li>
<li><a name="a1318"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontFamily">FontFamily</a>=<span class="src-str">''</span><span class="src-sym">;</span></li>
<li><a name="a1319"></a>    <span class="src-comm">//Page orientation</span></li>
<li><a name="a1320"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-sym">!</span><span class="src-var">$orientation</span><span class="src-sym">)</span></li>
<li><a name="a1321"></a>        <span class="src-var">$orientation</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$DefOrientation">DefOrientation</a><span class="src-sym">;</span></li>
<li><a name="a1322"></a>    <span class="src-key">else</span></li>
<li><a name="a1323"></a>    <span class="src-sym">{</span></li>
<li><a name="a1324"></a>        <span class="src-var">$orientation</span>=<a href="http://www.php.net/strtoupper">strtoupper</a><span class="src-sym">(</span><span class="src-var">$orientation</span><span class="src-sym">{</span><span class="src-num">0</span><span class="src-sym">}</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1325"></a>        <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$orientation</span>!=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$DefOrientation">DefOrientation</a><span class="src-sym">)</span></li>
<li><a name="a1326"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$OrientationChanges">OrientationChanges</a><span class="src-sym">[</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$page">page</a><span class="src-sym">]</span>=<span class="src-id">true</span><span class="src-sym">;</span></li>
<li><a name="a1327"></a>    <span class="src-sym">}</span></li>
<li><a name="a1328"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$orientation</span>!=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$CurOrientation">CurOrientation</a><span class="src-sym">)</span></li>
<li><a name="a1329"></a>    <span class="src-sym">{</span></li>
<li><a name="a1330"></a>        <span class="src-comm">//Change orientation</span></li>
<li><a name="a1331"></a>        <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$orientation</span>==<span class="src-str">'P'</span><span class="src-sym">)</span></li>
<li><a name="a1332"></a>        <span class="src-sym">{</span></li>
<li><a name="a1333"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$wPt">wPt</a>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$fwPt">fwPt</a><span class="src-sym">;</span></li>
<li><a name="a1334"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$hPt">hPt</a>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$fhPt">fhPt</a><span class="src-sym">;</span></li>
<li><a name="a1335"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$w">w</a>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$fw">fw</a><span class="src-sym">;</span></li>
<li><a name="a1336"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$h">h</a>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$fh">fh</a><span class="src-sym">;</span></li>
<li><a name="a1337"></a>        <span class="src-sym">}</span></li>
<li><a name="a1338"></a>        <span class="src-key">else</span></li>
<li><a name="a1339"></a>        <span class="src-sym">{</span></li>
<li><a name="a1340"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$wPt">wPt</a>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$fhPt">fhPt</a><span class="src-sym">;</span></li>
<li><a name="a1341"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$hPt">hPt</a>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$fwPt">fwPt</a><span class="src-sym">;</span></li>
<li><a name="a1342"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$w">w</a>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$fh">fh</a><span class="src-sym">;</span></li>
<li><a name="a1343"></a>            <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$h">h</a>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$fw">fw</a><span class="src-sym">;</span></li>
<li><a name="a1344"></a>        <span class="src-sym">}</span></li>
<li><a name="a1345"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$PageBreakTrigger">PageBreakTrigger</a>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$h">h</a>-<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$bMargin">bMargin</a><span class="src-sym">;</span></li>
<li><a name="a1346"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$CurOrientation">CurOrientation</a>=<span class="src-var">$orientation</span><span class="src-sym">;</span></li>
<li><a name="a1347"></a>    <span class="src-sym">}</span></li>
<li><a name="a1348"></a>    <span class="src-comm">//Set transformation matrix</span></li>
<li><a name="a1349"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><a href="http://www.php.net/round">round</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$k">k</a><span class="src-sym">,</span><span class="src-num">6</span><span class="src-sym">)</span>.<span class="src-str">' 0 0 '</span>.<a href="http://www.php.net/round">round</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$k">k</a><span class="src-sym">,</span><span class="src-num">6</span><span class="src-sym">)</span>.<span class="src-str">' 0 '</span>.<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$hPt">hPt</a>.<span class="src-str">' cm'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1350"></a><span class="src-sym">}</span></li>
<li><a name="a1351"></a>&nbsp;</li>
<li><a name="a1352"></a><span class="src-key">function </span><span class="src-id">_endpage</span><span class="src-sym">(</span><span class="src-sym">)</span></li>
<li><a name="a1353"></a><span class="src-sym">{</span></li>
<li><a name="a1354"></a>    <span class="src-comm">//End of page contents</span></li>
<li><a name="a1355"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$state">state</a>=<span class="src-num">1</span><span class="src-sym">;</span></li>
<li><a name="a1356"></a><span class="src-sym">}</span></li>
<li><a name="a1357"></a>&nbsp;</li>
<li><a name="a1358"></a><span class="src-key">function </span><span class="src-id">_newobj</span><span class="src-sym">(</span><span class="src-sym">)</span></li>
<li><a name="a1359"></a><span class="src-sym">{</span></li>
<li><a name="a1360"></a>    <span class="src-comm">//Begin a new object</span></li>
<li><a name="a1361"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$n">n</a>++<span class="src-sym">;</span></li>
<li><a name="a1362"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$offsets">offsets</a><span class="src-sym">[</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$n">n</a><span class="src-sym">]</span>=<a href="http://www.php.net/strlen">strlen</a><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$buffer">buffer</a><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1363"></a>    <span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$n">n</a>.<span class="src-str">' 0 obj'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1364"></a><span class="src-sym">}</span></li>
<li><a name="a1365"></a>&nbsp;</li>
<li><a name="a1366"></a><span class="src-key">function </span><span class="src-id">_dounderline</span><span class="src-sym">(</span><span class="src-var">$x</span><span class="src-sym">,</span><span class="src-var">$y</span><span class="src-sym">,</span><span class="src-var">$txt</span><span class="src-sym">)</span></li>
<li><a name="a1367"></a><span class="src-sym">{</span></li>
<li><a name="a1368"></a>    <span class="src-comm">//Underline text</span></li>
<li><a name="a1369"></a>    <span class="src-var">$up</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$CurrentFont">CurrentFont</a><span class="src-sym">[</span><span class="src-str">'up'</span><span class="src-sym">]</span><span class="src-sym">;</span></li>
<li><a name="a1370"></a>    <span class="src-var">$ut</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$CurrentFont">CurrentFont</a><span class="src-sym">[</span><span class="src-str">'ut'</span><span class="src-sym">]</span><span class="src-sym">;</span></li>
<li><a name="a1371"></a>    <span class="src-var">$w</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodGetStringWidth">GetStringWidth</a><span class="src-sym">(</span><span class="src-var">$txt</span><span class="src-sym">)</span>+<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$ws">ws</a>*<a href="http://www.php.net/substr_count">substr_count</a><span class="src-sym">(</span><span class="src-var">$txt</span><span class="src-sym">,</span><span class="src-str">' '</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1372"></a>    <span class="src-key">return </span><span class="src-var">$x</span>.<span class="src-str">' -'</span>.<span class="src-sym">(</span><span class="src-var">$y</span>-<span class="src-var">$up</span>/<span class="src-num">1000</span>*<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontSize">FontSize</a><span class="src-sym">)</span>.<span class="src-str">' '</span>.<span class="src-var">$w</span>.<span class="src-str">' -'</span>.<span class="src-sym">(</span><span class="src-var">$ut</span>/<span class="src-num">1000</span>*<span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$FontSize">FontSize</a><span class="src-sym">)</span>.<span class="src-str">' re f'</span><span class="src-sym">;</span></li>
<li><a name="a1373"></a><span class="src-sym">}</span></li>
<li><a name="a1374"></a>&nbsp;</li>
<li><a name="a1375"></a><span class="src-key">function </span><span class="src-id">_parsejpg</span><span class="src-sym">(</span><span class="src-var">$file</span><span class="src-sym">)</span></li>
<li><a name="a1376"></a><span class="src-sym">{</span></li>
<li><a name="a1377"></a>    <span class="src-comm">//Extract info from a JPEG file</span></li>
<li><a name="a1378"></a>    <span class="src-var">$a</span>=<span class="src-id">GetImageSize</span><span class="src-sym">(</span><span class="src-var">$file</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1379"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-sym">!</span><span class="src-var">$a</span><span class="src-sym">)</span></li>
<li><a name="a1380"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodError">Error</a><span class="src-sym">(</span><span class="src-str">'Missing or incorrect image file: '</span>.<span class="src-var">$file</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1381"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$a</span><span class="src-sym">[</span><span class="src-num">2</span><span class="src-sym">]</span>!=<span class="src-num">2</span><span class="src-sym">)</span></li>
<li><a name="a1382"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodError">Error</a><span class="src-sym">(</span><span class="src-str">'Not a JPEG file: '</span>.<span class="src-var">$file</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1383"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-sym">!</span>isset<span class="src-sym">(</span><span class="src-var">$a</span><span class="src-sym">[</span><span class="src-str">'channels'</span><span class="src-sym">]</span><span class="src-sym">) </span><span class="src-key">or </span><span class="src-var">$a</span><span class="src-sym">[</span><span class="src-str">'channels'</span><span class="src-sym">]</span>==<span class="src-num">3</span><span class="src-sym">)</span></li>
<li><a name="a1384"></a>        <span class="src-var">$colspace</span>=<span class="src-str">'DeviceRGB'</span><span class="src-sym">;</span></li>
<li><a name="a1385"></a>    <span class="src-key">elseif</span><span class="src-sym">(</span><span class="src-var">$a</span><span class="src-sym">[</span><span class="src-str">'channels'</span><span class="src-sym">]</span>==<span class="src-num">4</span><span class="src-sym">)</span></li>
<li><a name="a1386"></a>        <span class="src-var">$colspace</span>=<span class="src-str">'DeviceCMYK'</span><span class="src-sym">;</span></li>
<li><a name="a1387"></a>    <span class="src-key">else</span></li>
<li><a name="a1388"></a>        <span class="src-var">$colspace</span>=<span class="src-str">'DeviceGray'</span><span class="src-sym">;</span></li>
<li><a name="a1389"></a>    <span class="src-var">$bpc</span>=isset<span class="src-sym">(</span><span class="src-var">$a</span><span class="src-sym">[</span><span class="src-str">'bits'</span><span class="src-sym">]</span><span class="src-sym">) </span>? <span class="src-var">$a</span><span class="src-sym">[</span><span class="src-str">'bits'</span><span class="src-sym">] </span>: <span class="src-num">8</span><span class="src-sym">;</span></li>
<li><a name="a1390"></a>    <span class="src-comm">//Read whole file</span></li>
<li><a name="a1391"></a>    <span class="src-var">$f</span>=<a href="http://www.php.net/fopen">fopen</a><span class="src-sym">(</span><span class="src-var">$file</span><span class="src-sym">,</span><span class="src-str">'rb'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1392"></a>    <span class="src-var">$data</span>=<a href="http://www.php.net/fread">fread</a><span class="src-sym">(</span><span class="src-var">$f</span><span class="src-sym">,</span><a href="http://www.php.net/filesize">filesize</a><span class="src-sym">(</span><span class="src-var">$file</span><span class="src-sym">))</span><span class="src-sym">;</span></li>
<li><a name="a1393"></a>    <a href="http://www.php.net/fclose">fclose</a><span class="src-sym">(</span><span class="src-var">$f</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1394"></a>    <span class="src-key">return </span><span class="src-key">array</span><span class="src-sym">(</span><span class="src-str">'w'</span>=&gt;<span class="src-var">$a</span><span class="src-sym">[</span><span class="src-num">0</span><span class="src-sym">]</span><span class="src-sym">,</span><span class="src-str">'h'</span>=&gt;<span class="src-var">$a</span><span class="src-sym">[</span><span class="src-num">1</span><span class="src-sym">]</span><span class="src-sym">,</span><span class="src-str">'cs'</span>=&gt;<span class="src-var">$colspace</span><span class="src-sym">,</span><span class="src-str">'bpc'</span>=&gt;<span class="src-var">$bpc</span><span class="src-sym">,</span><span class="src-str">'f'</span>=&gt;<span class="src-str">'DCTDecode'</span><span class="src-sym">,</span><span class="src-str">'data'</span>=&gt;<span class="src-var">$data</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1395"></a><span class="src-sym">}</span></li>
<li><a name="a1396"></a>&nbsp;</li>
<li><a name="a1397"></a><span class="src-key">function </span><span class="src-id">_parsepng</span><span class="src-sym">(</span><span class="src-var">$file</span><span class="src-sym">)</span></li>
<li><a name="a1398"></a><span class="src-sym">{</span></li>
<li><a name="a1399"></a>    <span class="src-comm">//Extract info from a PNG file</span></li>
<li><a name="a1400"></a>    <span class="src-var">$f</span>=<a href="http://www.php.net/fopen">fopen</a><span class="src-sym">(</span><span class="src-var">$file</span><span class="src-sym">,</span><span class="src-str">'rb'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1401"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-sym">!</span><span class="src-var">$f</span><span class="src-sym">)</span></li>
<li><a name="a1402"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodError">Error</a><span class="src-sym">(</span><span class="src-str">'Can\'t open image file: '</span>.<span class="src-var">$file</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1403"></a>    <span class="src-comm">//Check signature</span></li>
<li><a name="a1404"></a>    <span class="src-key">if</span><span class="src-sym">(</span><a href="http://www.php.net/fread">fread</a><span class="src-sym">(</span><span class="src-var">$f</span><span class="src-sym">,</span><span class="src-num">8</span><span class="src-sym">)</span>!=<a href="http://www.php.net/chr">chr</a><span class="src-sym">(</span><span class="src-num">137</span><span class="src-sym">)</span>.<span class="src-str">'PNG'</span>.<a href="http://www.php.net/chr">chr</a><span class="src-sym">(</span><span class="src-num">13</span><span class="src-sym">)</span>.<a href="http://www.php.net/chr">chr</a><span class="src-sym">(</span><span class="src-num">10</span><span class="src-sym">)</span>.<a href="http://www.php.net/chr">chr</a><span class="src-sym">(</span><span class="src-num">26</span><span class="src-sym">)</span>.<a href="http://www.php.net/chr">chr</a><span class="src-sym">(</span><span class="src-num">10</span><span class="src-sym">))</span></li>
<li><a name="a1405"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodError">Error</a><span class="src-sym">(</span><span class="src-str">'Not a PNG file: '</span>.<span class="src-var">$file</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1406"></a>    <span class="src-comm">//Read header chunk</span></li>
<li><a name="a1407"></a>    <a href="http://www.php.net/fread">fread</a><span class="src-sym">(</span><span class="src-var">$f</span><span class="src-sym">,</span><span class="src-num">4</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1408"></a>    <span class="src-key">if</span><span class="src-sym">(</span><a href="http://www.php.net/fread">fread</a><span class="src-sym">(</span><span class="src-var">$f</span><span class="src-sym">,</span><span class="src-num">4</span><span class="src-sym">)</span>!=<span class="src-str">'IHDR'</span><span class="src-sym">)</span></li>
<li><a name="a1409"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodError">Error</a><span class="src-sym">(</span><span class="src-str">'Incorrect PNG file: '</span>.<span class="src-var">$file</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1410"></a>    <span class="src-var">$w</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_freadint</span><span class="src-sym">(</span><span class="src-var">$f</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1411"></a>    <span class="src-var">$h</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_freadint</span><span class="src-sym">(</span><span class="src-var">$f</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1412"></a>    <span class="src-var">$bpc</span>=<a href="http://www.php.net/ord">ord</a><span class="src-sym">(</span><a href="http://www.php.net/fread">fread</a><span class="src-sym">(</span><span class="src-var">$f</span><span class="src-sym">,</span><span class="src-num">1</span><span class="src-sym">))</span><span class="src-sym">;</span></li>
<li><a name="a1413"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$bpc</span>&gt;<span class="src-num">8</span><span class="src-sym">)</span></li>
<li><a name="a1414"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodError">Error</a><span class="src-sym">(</span><span class="src-str">'16-bit depth not supported: '</span>.<span class="src-var">$file</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1415"></a>    <span class="src-var">$ct</span>=<a href="http://www.php.net/ord">ord</a><span class="src-sym">(</span><a href="http://www.php.net/fread">fread</a><span class="src-sym">(</span><span class="src-var">$f</span><span class="src-sym">,</span><span class="src-num">1</span><span class="src-sym">))</span><span class="src-sym">;</span></li>
<li><a name="a1416"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$ct</span>==<span class="src-num">0</span><span class="src-sym">)</span></li>
<li><a name="a1417"></a>        <span class="src-var">$colspace</span>=<span class="src-str">'DeviceGray'</span><span class="src-sym">;</span></li>
<li><a name="a1418"></a>    <span class="src-key">elseif</span><span class="src-sym">(</span><span class="src-var">$ct</span>==<span class="src-num">2</span><span class="src-sym">)</span></li>
<li><a name="a1419"></a>        <span class="src-var">$colspace</span>=<span class="src-str">'DeviceRGB'</span><span class="src-sym">;</span></li>
<li><a name="a1420"></a>    <span class="src-key">elseif</span><span class="src-sym">(</span><span class="src-var">$ct</span>==<span class="src-num">3</span><span class="src-sym">)</span></li>
<li><a name="a1421"></a>        <span class="src-var">$colspace</span>=<span class="src-str">'Indexed'</span><span class="src-sym">;</span></li>
<li><a name="a1422"></a>    <span class="src-key">else</span></li>
<li><a name="a1423"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodError">Error</a><span class="src-sym">(</span><span class="src-str">'Alpha channel not supported: '</span>.<span class="src-var">$file</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1424"></a>    <span class="src-key">if</span><span class="src-sym">(</span><a href="http://www.php.net/ord">ord</a><span class="src-sym">(</span><a href="http://www.php.net/fread">fread</a><span class="src-sym">(</span><span class="src-var">$f</span><span class="src-sym">,</span><span class="src-num">1</span><span class="src-sym">))</span>!=<span class="src-num">0</span><span class="src-sym">)</span></li>
<li><a name="a1425"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodError">Error</a><span class="src-sym">(</span><span class="src-str">'Unknown compression method: '</span>.<span class="src-var">$file</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1426"></a>    <span class="src-key">if</span><span class="src-sym">(</span><a href="http://www.php.net/ord">ord</a><span class="src-sym">(</span><a href="http://www.php.net/fread">fread</a><span class="src-sym">(</span><span class="src-var">$f</span><span class="src-sym">,</span><span class="src-num">1</span><span class="src-sym">))</span>!=<span class="src-num">0</span><span class="src-sym">)</span></li>
<li><a name="a1427"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodError">Error</a><span class="src-sym">(</span><span class="src-str">'Unknown filter method: '</span>.<span class="src-var">$file</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1428"></a>    <span class="src-key">if</span><span class="src-sym">(</span><a href="http://www.php.net/ord">ord</a><span class="src-sym">(</span><a href="http://www.php.net/fread">fread</a><span class="src-sym">(</span><span class="src-var">$f</span><span class="src-sym">,</span><span class="src-num">1</span><span class="src-sym">))</span>!=<span class="src-num">0</span><span class="src-sym">)</span></li>
<li><a name="a1429"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodError">Error</a><span class="src-sym">(</span><span class="src-str">'Interlacing not supported: '</span>.<span class="src-var">$file</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1430"></a>    <a href="http://www.php.net/fread">fread</a><span class="src-sym">(</span><span class="src-var">$f</span><span class="src-sym">,</span><span class="src-num">4</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1431"></a>    <span class="src-var">$parms</span>=<span class="src-str">'/DecodeParms &lt;&lt;/Predictor 15 /Colors '</span>.<span class="src-sym">(</span><span class="src-var">$ct</span>==<span class="src-num">2 </span>? <span class="src-num">3 </span>: <span class="src-num">1</span><span class="src-sym">)</span>.<span class="src-str">' /BitsPerComponent '</span>.<span class="src-var">$bpc</span>.<span class="src-str">' /Columns '</span>.<span class="src-var">$w</span>.<span class="src-str">'&gt;&gt;'</span><span class="src-sym">;</span></li>
<li><a name="a1432"></a>    <span class="src-comm">//Scan chunks looking for palette, transparency and image data</span></li>
<li><a name="a1433"></a>    <span class="src-var">$pal</span>=<span class="src-str">''</span><span class="src-sym">;</span></li>
<li><a name="a1434"></a>    <span class="src-var">$trns</span>=<span class="src-str">''</span><span class="src-sym">;</span></li>
<li><a name="a1435"></a>    <span class="src-var">$data</span>=<span class="src-str">''</span><span class="src-sym">;</span></li>
<li><a name="a1436"></a>    do</li>
<li><a name="a1437"></a>    <span class="src-sym">{</span></li>
<li><a name="a1438"></a>        <span class="src-var">$n</span>=<span class="src-var">$this</span><span class="src-sym">-&gt;</span><span class="src-id">_freadint</span><span class="src-sym">(</span><span class="src-var">$f</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1439"></a>        <span class="src-var">$type</span>=<a href="http://www.php.net/fread">fread</a><span class="src-sym">(</span><span class="src-var">$f</span><span class="src-sym">,</span><span class="src-num">4</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1440"></a>        <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$type</span>==<span class="src-str">'PLTE'</span><span class="src-sym">)</span></li>
<li><a name="a1441"></a>        <span class="src-sym">{</span></li>
<li><a name="a1442"></a>            <span class="src-comm">//Read palette</span></li>
<li><a name="a1443"></a>            <span class="src-var">$pal</span>=<a href="http://www.php.net/fread">fread</a><span class="src-sym">(</span><span class="src-var">$f</span><span class="src-sym">,</span><span class="src-var">$n</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1444"></a>            <a href="http://www.php.net/fread">fread</a><span class="src-sym">(</span><span class="src-var">$f</span><span class="src-sym">,</span><span class="src-num">4</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1445"></a>        <span class="src-sym">}</span></li>
<li><a name="a1446"></a>        <span class="src-key">elseif</span><span class="src-sym">(</span><span class="src-var">$type</span>==<span class="src-str">'tRNS'</span><span class="src-sym">)</span></li>
<li><a name="a1447"></a>        <span class="src-sym">{</span></li>
<li><a name="a1448"></a>            <span class="src-comm">//Read transparency info</span></li>
<li><a name="a1449"></a>            <span class="src-var">$t</span>=<a href="http://www.php.net/fread">fread</a><span class="src-sym">(</span><span class="src-var">$f</span><span class="src-sym">,</span><span class="src-var">$n</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1450"></a>            <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$ct</span>==<span class="src-num">0</span><span class="src-sym">)</span></li>
<li><a name="a1451"></a>                <span class="src-var">$trns</span>=<span class="src-key">array</span><span class="src-sym">(</span><a href="http://www.php.net/substr">substr</a><span class="src-sym">(</span><span class="src-var">$t</span><span class="src-sym">,</span><span class="src-num">1</span><span class="src-sym">,</span><span class="src-num">1</span><span class="src-sym">))</span><span class="src-sym">;</span></li>
<li><a name="a1452"></a>            <span class="src-key">elseif</span><span class="src-sym">(</span><span class="src-var">$ct</span>==<span class="src-num">2</span><span class="src-sym">)</span></li>
<li><a name="a1453"></a>                <span class="src-var">$trns</span>=<span class="src-key">array</span><span class="src-sym">(</span><a href="http://www.php.net/substr">substr</a><span class="src-sym">(</span><span class="src-var">$t</span><span class="src-sym">,</span><span class="src-num">1</span><span class="src-sym">,</span><span class="src-num">1</span><span class="src-sym">)</span><span class="src-sym">,</span><a href="http://www.php.net/substr">substr</a><span class="src-sym">(</span><span class="src-var">$t</span><span class="src-sym">,</span><span class="src-num">3</span><span class="src-sym">,</span><span class="src-num">1</span><span class="src-sym">)</span><span class="src-sym">,</span><a href="http://www.php.net/substr">substr</a><span class="src-sym">(</span><span class="src-var">$t</span><span class="src-sym">,</span><span class="src-num">5</span><span class="src-sym">,</span><span class="src-num">1</span><span class="src-sym">))</span><span class="src-sym">;</span></li>
<li><a name="a1454"></a>            <span class="src-key">else</span></li>
<li><a name="a1455"></a>            <span class="src-sym">{</span></li>
<li><a name="a1456"></a>                <span class="src-var">$pos</span>=<a href="http://www.php.net/strpos">strpos</a><span class="src-sym">(</span><span class="src-var">$t</span><span class="src-sym">,</span><a href="http://www.php.net/chr">chr</a><span class="src-sym">(</span><span class="src-num">0</span><span class="src-sym">))</span><span class="src-sym">;</span></li>
<li><a name="a1457"></a>                <span class="src-key">if</span><span class="src-sym">(</span><a href="http://www.php.net/is_int">is_int</a><span class="src-sym">(</span><span class="src-var">$pos</span><span class="src-sym">))</span></li>
<li><a name="a1458"></a>                    <span class="src-var">$trns</span>=<span class="src-key">array</span><span class="src-sym">(</span><span class="src-var">$pos</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1459"></a>            <span class="src-sym">}</span></li>
<li><a name="a1460"></a>            <a href="http://www.php.net/fread">fread</a><span class="src-sym">(</span><span class="src-var">$f</span><span class="src-sym">,</span><span class="src-num">4</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1461"></a>        <span class="src-sym">}</span></li>
<li><a name="a1462"></a>        <span class="src-key">elseif</span><span class="src-sym">(</span><span class="src-var">$type</span>==<span class="src-str">'IDAT'</span><span class="src-sym">)</span></li>
<li><a name="a1463"></a>        <span class="src-sym">{</span></li>
<li><a name="a1464"></a>            <span class="src-comm">//Read image data block</span></li>
<li><a name="a1465"></a>            <span class="src-var">$data</span>.=<a href="http://www.php.net/fread">fread</a><span class="src-sym">(</span><span class="src-var">$f</span><span class="src-sym">,</span><span class="src-var">$n</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1466"></a>            <a href="http://www.php.net/fread">fread</a><span class="src-sym">(</span><span class="src-var">$f</span><span class="src-sym">,</span><span class="src-num">4</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1467"></a>        <span class="src-sym">}</span></li>
<li><a name="a1468"></a>        <span class="src-key">elseif</span><span class="src-sym">(</span><span class="src-var">$type</span>==<span class="src-str">'IEND'</span><span class="src-sym">)</span></li>
<li><a name="a1469"></a>            <span class="src-key">break</span><span class="src-sym">;</span></li>
<li><a name="a1470"></a>        <span class="src-key">else</span></li>
<li><a name="a1471"></a>            <a href="http://www.php.net/fread">fread</a><span class="src-sym">(</span><span class="src-var">$f</span><span class="src-sym">,</span><span class="src-var">$n</span>+<span class="src-num">4</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1472"></a>    <span class="src-sym">}</span></li>
<li><a name="a1473"></a>    <span class="src-key">while</span><span class="src-sym">(</span><span class="src-var">$n</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1474"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$colspace</span>==<span class="src-str">'Indexed' </span><span class="src-key">and </span><span class="src-key">empty</span><span class="src-sym">(</span><span class="src-var">$pal</span><span class="src-sym">))</span></li>
<li><a name="a1475"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#methodError">Error</a><span class="src-sym">(</span><span class="src-str">'Missing palette in '</span>.<span class="src-var">$file</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1476"></a>    <a href="http://www.php.net/fclose">fclose</a><span class="src-sym">(</span><span class="src-var">$f</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1477"></a>    <span class="src-key">return </span><span class="src-key">array</span><span class="src-sym">(</span><span class="src-str">'w'</span>=&gt;<span class="src-var">$w</span><span class="src-sym">,</span><span class="src-str">'h'</span>=&gt;<span class="src-var">$h</span><span class="src-sym">,</span><span class="src-str">'cs'</span>=&gt;<span class="src-var">$colspace</span><span class="src-sym">,</span><span class="src-str">'bpc'</span>=&gt;<span class="src-var">$bpc</span><span class="src-sym">,</span><span class="src-str">'f'</span>=&gt;<span class="src-str">'FlateDecode'</span><span class="src-sym">,</span><span class="src-str">'parms'</span>=&gt;<span class="src-var">$parms</span><span class="src-sym">,</span><span class="src-str">'pal'</span>=&gt;<span class="src-var">$pal</span><span class="src-sym">,</span><span class="src-str">'trns'</span>=&gt;<span class="src-var">$trns</span><span class="src-sym">,</span><span class="src-str">'data'</span>=&gt;<span class="src-var">$data</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1478"></a><span class="src-sym">}</span></li>
<li><a name="a1479"></a>&nbsp;</li>
<li><a name="a1480"></a><span class="src-key">function </span><span class="src-id">_freadint</span><span class="src-sym">(</span><span class="src-var">$f</span><span class="src-sym">)</span></li>
<li><a name="a1481"></a><span class="src-sym">{</span></li>
<li><a name="a1482"></a>    <span class="src-comm">//Read a 4-byte integer from file</span></li>
<li><a name="a1483"></a>    <span class="src-var">$i</span>=<a href="http://www.php.net/ord">ord</a><span class="src-sym">(</span><a href="http://www.php.net/fread">fread</a><span class="src-sym">(</span><span class="src-var">$f</span><span class="src-sym">,</span><span class="src-num">1</span><span class="src-sym">))</span>&lt;&lt;<span class="src-num">24</span><span class="src-sym">;</span></li>
<li><a name="a1484"></a>    <span class="src-var">$i</span>+=<a href="http://www.php.net/ord">ord</a><span class="src-sym">(</span><a href="http://www.php.net/fread">fread</a><span class="src-sym">(</span><span class="src-var">$f</span><span class="src-sym">,</span><span class="src-num">1</span><span class="src-sym">))</span>&lt;&lt;<span class="src-num">16</span><span class="src-sym">;</span></li>
<li><a name="a1485"></a>    <span class="src-var">$i</span>+=<a href="http://www.php.net/ord">ord</a><span class="src-sym">(</span><a href="http://www.php.net/fread">fread</a><span class="src-sym">(</span><span class="src-var">$f</span><span class="src-sym">,</span><span class="src-num">1</span><span class="src-sym">))</span>&lt;&lt;<span class="src-num">8</span><span class="src-sym">;</span></li>
<li><a name="a1486"></a>    <span class="src-var">$i</span>+=<a href="http://www.php.net/ord">ord</a><span class="src-sym">(</span><a href="http://www.php.net/fread">fread</a><span class="src-sym">(</span><span class="src-var">$f</span><span class="src-sym">,</span><span class="src-num">1</span><span class="src-sym">))</span><span class="src-sym">;</span></li>
<li><a name="a1487"></a>    <span class="src-key">return </span><span class="src-var">$i</span><span class="src-sym">;</span></li>
<li><a name="a1488"></a><span class="src-sym">}</span></li>
<li><a name="a1489"></a>&nbsp;</li>
<li><a name="a1490"></a><span class="src-key">function </span><span class="src-id">_escape</span><span class="src-sym">(</span><span class="src-var">$s</span><span class="src-sym">)</span></li>
<li><a name="a1491"></a><span class="src-sym">{</span></li>
<li><a name="a1492"></a>    <span class="src-comm">//Add \ before \, ( and )</span></li>
<li><a name="a1493"></a>    <span class="src-key">return </span><a href="http://www.php.net/str_replace">str_replace</a><span class="src-sym">(</span><span class="src-str">')'</span><span class="src-sym">,</span><span class="src-str">'\\)'</span><span class="src-sym">,</span><a href="http://www.php.net/str_replace">str_replace</a><span class="src-sym">(</span><span class="src-str">'('</span><span class="src-sym">,</span><span class="src-str">'\\('</span><span class="src-sym">,</span><a href="http://www.php.net/str_replace">str_replace</a><span class="src-sym">(</span><span class="src-str">'\\'</span><span class="src-sym">,</span><span class="src-str">'\\\\'</span><span class="src-sym">,</span><span class="src-var">$s</span><span class="src-sym">)))</span><span class="src-sym">;</span></li>
<li><a name="a1494"></a><span class="src-sym">}</span></li>
<li><a name="a1495"></a>&nbsp;</li>
<li><a name="a1496"></a><span class="src-key">function </span><span class="src-id">_out</span><span class="src-sym">(</span><span class="src-var">$s</span><span class="src-sym">)</span></li>
<li><a name="a1497"></a><span class="src-sym">{</span></li>
<li><a name="a1498"></a>    <span class="src-comm">//Add a line to the document</span></li>
<li><a name="a1499"></a>    <span class="src-key">if</span><span class="src-sym">(</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$state">state</a>==<span class="src-num">2</span><span class="src-sym">)</span></li>
<li><a name="a1500"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$pages">pages</a><span class="src-sym">[</span><span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$page">page</a><span class="src-sym">]</span>.=<span class="src-var">$s</span>.<span class="src-str">&quot;\n&quot;</span><span class="src-sym">;</span></li>
<li><a name="a1501"></a>    <span class="src-key">else</span></li>
<li><a name="a1502"></a>        <span class="src-var">$this</span><span class="src-sym">-&gt;</span><a href="../FPDF/FPDF.html#var$buffer">buffer</a>.=<span class="src-var">$s</span>.<span class="src-str">&quot;\n&quot;</span><span class="src-sym">;</span></li>
<li><a name="a1503"></a><span class="src-sym">}</span></li>
<li><a name="a1504"></a><span class="src-comm">//End of class</span></li>
<li><a name="a1504"></a>&nbsp;</li>
<li><a name="a1505"></a><span class="src-sym">}</span></li>
<li><a name="a1506"></a>&nbsp;</li>
<li><a name="a1507"></a><span class="src-comm">//Handle silly IE contype request</span></li>
<li><a name="a1508"></a><span class="src-key">if</span><span class="src-sym">(</span>isset<span class="src-sym">(</span><span class="src-var">$HTTP_ENV_VARS</span><span class="src-sym">[</span><span class="src-str">'HTTP_USER_AGENT'</span><span class="src-sym">]</span><span class="src-sym">) </span><span class="src-key">and </span><span class="src-var">$HTTP_ENV_VARS</span><span class="src-sym">[</span><span class="src-str">'HTTP_USER_AGENT'</span><span class="src-sym">]</span>==<span class="src-str">'contype'</span><span class="src-sym">)</span></li>
<li><a name="a1509"></a><span class="src-sym">{</span></li>
<li><a name="a1510"></a>    <a href="../FPDF/FPDF.html#methodHeader">Header</a><span class="src-sym">(</span><span class="src-str">'Content-Type: application/pdf'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li><a name="a1511"></a>    <span class="src-key">exit</span><span class="src-sym">;</span></li>
<li><a name="a1512"></a><span class="src-sym">}</span></li>
<li><a name="a1513"></a>&nbsp;</li>
<li><a name="a1514"></a><span class="src-php">?&gt;</span></li>
</ol></pre>
</div>
	<p class="notes" id="credit">
		Documentation generated on Mon, 19 Jul 2010 20:33:43 -0500 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.3.0RC3</a>
	</p>
	</body>
</html>